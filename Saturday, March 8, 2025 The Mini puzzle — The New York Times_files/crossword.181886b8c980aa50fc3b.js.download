!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e339f22f-8353-47b5-9628-b883bc17fb2c",e._sentryDebugIdIdentifier="sentry-dbid-e339f22f-8353-47b5-9628-b883bc17fb2c")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"942e8b53fa3c2cf924fe9b4e9466f3c2bd1e0c17"},function(){"use strict";var e,t,r,n,a,o={58036:function(e,t,r){r.d(t,{DQ:function(){return o},I:function(){return a},Vb:function(){return l},XS:function(){return n},cr:function(){return c},ne:function(){return s},sN:function(){return b}});const n="MWD_phoenix_games_sale_banner",a="MWD_phoenix_games_sale_nav",o="MWD_phoenix_games_sale_cta",l="1_Show",i=new Date("03/03/2025 10:00:00 GMT-0500"),s=i.getTime(),c=new Date("03/17/2025 12:00:00 GMT-0400").getTime(),u=new Date("03/06/2025 10:00:00 GMT-0500"),d=new Date("03/10/2025 10:00:00 GMT-0400"),p=new Date("03/12/2025 10:00:00 GMT-0400"),m=new Date("03/15/2025 10:00:00 GMT-0400"),f=new Date("03/16/2025 10:00:00 GMT-0400"),b={acqMessage:"Subscribe for up to 75% off",newsAppAcqMessage:"Subscribe for 50% off",shortMessage:"Save up to 75%",newsAppShortMessage:"Save 50% on Games",upgradeMessage:"Upgrade and save",campaignId:"89RW9",getAcquisitionMessage(e){return e?this.newsAppAcqMessage:this.acqMessage},getShortMessage(e){return e?this.newsAppShortMessage:this.shortMessage},urgency:[{color:"dark_yellow",copy:"Final Hours",shortCopy:"Final Hours",startDate:new Date("03/16/2025 18:00:00 GMT-0400").getTime()},{color:"dark_yellow",copy:"Ends Today",shortCopy:"Ends Today",startDate:f.getTime()},{color:"dark_yellow",copy:"Ends Tomorrow",shortCopy:"Ends Tomorrow",startDate:m.getTime()},{color:"dark_yellow",copy:"Ends Soon",shortCopy:"Ends Soon",startDate:p.getTime()},{color:"green",copy:"Time is Running Out",shortCopy:"Time is Running Out",startDate:d.getTime()},{color:"green",copy:"Offer Won’t Last",shortCopy:"Offer Won’t Last",startDate:u.getTime()},{color:"black",copy:"Limited Time Offer",shortCopy:"Limited Time Offer",startDate:i.getTime()}]}},45042:function(e,t,r){r.d(t,{BF:function(){return c},L2:function(){return u},ux:function(){return s},yy:function(){return l}});var n=r(58036),a=r(96390);function o(e,t){return function(r){return function(e,t,r){const n=null==e?void 0:e[t];let a=(null==n?void 0:n.abtest_partition)||[];return a&&(null==a?void 0:a.includes(r))}(r,e,t)}}o(n.I,n.Vb),o(n.DQ,n.Vb),o(n.XS,n.Vb);const l=function(){let{entitlement:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!["sub,cr","sub"].includes(e)};function i(e){if(e&&e.search){const t=e.search("date-override"),r=e.substring(t);return new URLSearchParams(r).get("date-override")}}function s(e){const t=i(e)||null,r=t?new Date(t).getTime():(new Date).getTime();return r>=n.ne&&r<n.cr}function c(e){const t=i(e),r=new Date(t).getTime()||(new Date).getTime(),n=a.C1.find((e=>{let{startDate:t}=e;return r>=t&&r<a.IQ}));return n?n.copy:""}function u(e){return function(e){return"sub"===e||"cr"===e}(e)?n.sN.upgradeMessage:n.sN.getAcquisitionMessage(!!window.newsreaderAppPlatform)}},43092:function(e,t,r){r(31405),r(37422);var n=r(89526),a=r(24470),o=r(76359),l=r(35169),i=r(65489),s=r(65046),c=r(43819),u=r(63482),d=r(34876),p=r(97281);const m="crossword/progress/APPLY_PROGRESS",f="crossword/progress/RECALC_COUNTS",b=["cells","status","timer","selection"],h="crossword/transient/PUZZLE_READY",v="crossword/transient/PUZZLE_SYNCED",g="crossword/transient/ESCAPE_PUZZLE",y=e=>({type:v,payload:{commitID:e}}),w="crossword/cell/CHECK",E="crossword/cell/CLEAR",_="crossword/cell/REVEAL",O="crossword/cell/GUESS",S=e=>!!e.guess,k=e=>![0,4].includes(e.type),P=e=>k(e)&&!S(e),x=e=>e&&e.confirmed,j=e=>!x(e),C=(e,t)=>{const{answer:r,moreAnswers:n}=e;if(!n)return r?r===t:!t;const{valid:a=[]}=n,o=a.concat(r);return!(!o.includes(" ")&&!o.includes("")||t)||o.includes(t)},T=e=>C(e,e.guess||""),D=e=>k(e)&&!T(e),N=e=>j(e)&&k(e),L=e=>S(e)&&j(e),A=e=>L(e)&&(e=>!e.checked||e.modified)(e),z=e=>t=>!!(e=>e.checked&&!e.modified&&j(e))(t)||!e.skipFilled||!!P(t)||!e.skipPenciled&&t.penciled,M="crossword/selection/NAVIGATE",I="crossword/selection/SELECT_CELL",R="crossword/selection/SELECT_CLUE",B="crossword/selection/SWITCH_DIRECTION",U=()=>({type:B}),G=e=>({type:M,payload:{direction:e}}),H=(e,t)=>{const r="ClueStart";return t?{type:M,payload:{direction:r}}:{type:R,payload:{index:e,direction:r}}},W="crossword/status/SET_INITIAL_CELL_STATUS",Y="crossword/status/RESET_GAME",q="crossword/status/DEBUG_REVEAL",F="crossword/status/MARK_SOLVED",Z="crossword/status/ENABLE_AUTOCHECK",V="crossword/status/DISABLE_AUTOCHECK",$="crossword/status/TRACK_PROGRESS",X="crossword/status/MARK_FILLED",K="crossword/status/UNMARK_FILLED",Q=e=>e[Math.floor(Math.random()*e.length)];var J=r(47549);const ee=e=>e.user,te=(0,J.createSelector)(ee,(e=>{let{settings:t}=e;return t})),re=(0,J.createSelector)(ee,(e=>{let{printPrefs:t}=e;return t})),ne=(0,J.createSelector)(ee,(e=>{let{access:t}=e;return t})),ae=(0,J.createSelector)(ne,(e=>{let{canAccessPuzzle:t}=e;return t})),oe=(0,J.createSelector)(ne,(e=>{let{isAccessDataAvailable:t}=e;return t}));const le=(e,t)=>{const r=Math.floor(e/t)*t;return[r,r+t-1]},ie=e=>[0,e.length-1];var se=r(36105),ce=r.n(se);const ue=(e,t)=>e+(t?ce()().unix()-t:0),de=e=>{const t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=r<10?"0".concat(r):r,a=Math.floor(e%60),o=a<10?"0".concat(a):a;return t>0?[t,n,o].join(":"):"".concat(r,":").concat(o)},pe=/(\w*)\{nyt-(\w+)\}(\w*)/g,me={m:e=>{const t=e.format("MMMM"),r="September"===t?"Sept":t.substring(0,3);return t.length>4?"".concat(r,"."):t}},fe=(e,t)=>{if(!e)return"";const r=ce()(e),n=((e,t)=>t.replace(pe,((t,r,n)=>{const a=me[n];if(!a)throw new Error('Unrecognized NYT time: "'.concat(n,'"'));return"[".concat(a(e),"]")})))(r,t);return r.format(n)},be=e=>e.cells,he=(0,J.createSelector)(be,(e=>e.map((e=>4===e.type)))),ve=e=>e.clues,ge=e=>e.puzzle.data,ye=e=>e.puzzle.hasLoaded,we=e=>e.puzzle.error,Ee=(0,J.createSelector)(ge,(e=>(null==e?void 0:e.meta)||null)),_e=(0,J.createSelector)(ge,(e=>(null==e?void 0:e.board)||null)),Oe=(0,J.createSelector)(ge,(e=>(null==e?void 0:e.clueLists)||[])),Se=(0,J.createSelector)(ge,(e=>(null==e?void 0:e.overlays)||null)),ke=(0,J.createSelector)(ge,(e=>(null==e?void 0:e.dimensions)||null)),Pe=(0,J.createSelector)(Ee,(e=>null==e?void 0:e.id)),xe=(0,J.createSelector)(Ee,(e=>null==e?void 0:e.title)),je=(0,J.createSelector)(Ee,(e=>(null==e?void 0:e.publishStream)||"")),Ce=(0,J.createSelector)(je,(e=>"mini"===e)),Te=(0,J.createSelector)(Ee,(e=>null==e?void 0:e.publicationDate)),De=(0,J.createSelector)([je,Te,xe,we],((e,t,r,n)=>{if(n)return 403===n.status?"Subscription Required":404===n.status?"Page Not Found":"Oops! Something went wrong.";const a=!e;let o="MMMM D, YYYY";o="bonus"===e?"MMMM YYYY":"dddd, MMMM D, YYYY";let l="The Crossword puzzle";return"mini"===e&&(l="The Mini puzzle"),(a||"bonus"===e)&&(l="The Crossword Bonus puzzle — ".concat(r)),a&&(l="The Special Crossword puzzle"),!a&&t&&(l="".concat(fe(t,o)," ").concat(l)),"".concat(l," — The New York Times")})),Ne=e=>e.selection,Le=(0,J.createSelector)(Ne,(e=>e.cell)),Ae=(0,J.createSelector)([be,Le],((e,t)=>"number"==typeof t?e[t]:null)),ze=(0,J.createSelector)([ve,Ne],((e,t)=>"number"==typeof t.clue?e[t.clue]:null)),Me=((0,J.createSelector)([Oe,Ne],((e,t)=>"number"==typeof t.clueList?e[t.clueList]:null)),(0,J.createSelector)(Ne,(e=>e.clueCells))),Ie=(0,J.createSelector)(Ne,(e=>e.relatedCells));function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ue=(e,t,r)=>{const n=e.find((e=>r(t[e])));if(void 0!==n)return t[n]},Ge=()=>0,He=(e,t)=>t.length-1,We=e=>e-1,Ye=e=>e+1,qe=(e,t,r)=>{const n=t.clueCells[r],a=e[n];return Be(Be({},t),{},{cell:n,cellClues:a.clues})},Fe=(e,t)=>{let{cells:r,selection:n}=e;const{cell:a,clueCells:o}=n;if(!o.length)return null;const l=t(o.indexOf(a),o);return qe(r,n,l)},Ze=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=te(e),{cells:a,clues:o,selection:l}=e,i=z(n),s=o[l.clue],c=r?"prev":"next";let u,d;u=s?s[c]:r?o.length-1:0;let p=o[u];do{if(d=Ue(p.cells,a,i),d)break;p=o[p[c]]}while(p.index!==u);const m=d?d.index:p.cells[0];return{cell:m,cellClues:a[m].clues,clue:p.index,clueCells:p.cells,clueList:null!==(t=p.list)&&void 0!==t?t:null,relatedCells:[],relatedClues:[]}};function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe=(e,t,r)=>{switch(t){case"Up":case"Down":case"Left":case"Right":return((e,t,r)=>{var n,a;const{cells:o,clues:l,puzzle:i,selection:s}=e,c=((e,t,r,n,a)=>{if("number"!=typeof n||n<1)throw new Error("gridwidth must be a positive number");let o,l;switch(t){case"Up":o=-n,l=ie(r);break;case"Down":o=n,l=ie(r);break;case"Right":o=1,l=le(e,n);break;case"Left":o=-1,l=le(e,n)}if(o&&l)for(let t=e+o;t>=l[0]&&t<=l[1];t+=o)if(a(r[t]))return r[t]})(s.cell||0,t,o,(null===(n=i.data)||void 0===n?void 0:n.dimensions.columnCount)||0,k);if(!c)return null;const u=((e,t,r)=>{if(0===e.clues.length)return{index:null,cells:[],list:r};if(1===e.clues.length)return t[e.clues[0]];const n=e.clues,a=n.map((e=>t[e].list)),o=(l=r,a.reduce(((e,t)=>t===l?t:e===l?e:"number"==typeof l&&(t<l&&e<l||t>l&&e>l)?Math.min(t,e):Math.max(t,e))));var l;const i=a.findIndex((e=>e===o));return t[n[i]]})(c,l,void 0!==r?r:s.clueList);return $e($e({},s),{},{cell:c.index,cellClues:c.clues,clue:u.index,clueCells:u.cells,clueList:null!==(a=u.list)&&void 0!==a?a:null})})(e,t,r);default:return((e,t)=>{switch(t){case"ClueStart":return Fe(e,Ge);case"ClueEnd":return Fe(e,He);case"Advance":return(e=>{const t=te(e),{cells:r,selection:n}=e,{cell:a,clueCells:o}=n,l=z(t),i=Ae(e),s=!!i&&i.guess,c=(p=a,(d=o).slice(d.indexOf(p)+1)),u=0===c.length;var d,p;if(s&&!u)return Fe(e,Ye);const m=t.jumpBack?c.concat(((e,t)=>e.slice(0,e.indexOf(t)))(o,a)):c,f=Ue(m,r,l);return f?qe(r,n,o.indexOf(f.index)):t.autoAdvance?Ze(e):null})(e);case"Backspace":return(e=>{var t;const r=te(e),{cells:n,clues:a,selection:o}=e,{cell:l,clue:i,clueCells:s}=o;if(null===l||0!==s.indexOf(l))return Fe(e,We);if(!r.backspaceAcrossWords)return null;const c=(u=a,d=a[i],u[u.indexOf(d)-1]||u[u.length-1]);var u,d;const p=c.cells,m=n[p[p.length-1]];return Be(Be({},o),{},{cell:m.index,cellClues:m.clues,clue:c.index,clueCells:p,clueList:null!==(t=c.list)&&void 0!==t?t:null})})(e);case"NextClue":return Ze(e);case"PreviousClue":return Ze(e,!0);default:return null}})(e,t)}};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Je=/[Up|Down]$/,et=["Across","Down"],tt=(e,t)=>{var r;return et.includes(null===(r=t[e])||void 0===r?void 0:r.name)},rt=e=>{var t;let{cells:r,clues:n}=e;const a=r.find(P)||r.find(k),[o=null]=(null==a?void 0:a.clues)||[],l=n[o];return{cell:null!==(t=null==a?void 0:a.index)&&void 0!==t?t:null,cellClues:(null==a?void 0:a.clues)||[],clue:o,clueCells:(null==l?void 0:l.cells)||[],clueList:(null==l?void 0:l.list)||0,relatedCells:[],relatedClues:[]}},nt=(e,t)=>{var r;let{cells:n,clues:a}=e;const o=a[t],l=o.cells.map((e=>n[e])).find((e=>P(e))),i=l?l.index:o.cells[0];return{cell:i,cellClues:n[i].clues,clue:o.index,clueCells:o.cells,clueList:null!==(r=o.list)&&void 0!==r?r:null,relatedCells:[],relatedClues:[]}},at=function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{clues:n}=e,a=r||e.selection,{clue:o,cellClues:l}=a;if(l.length<2)return a;var i,s;const c=n[(s=o,(i=l)[(i.indexOf(s)+1)%i.length])];return Qe(Qe({},a),{},{clueCells:c.cells,clue:c.index,clueList:null!==(t=c.list)&&void 0!==t?t:null})},ot=(e,t)=>{const{puzzle:{data:r},selection:{clueList:n}}=e;return!!r&&r.clueLists[n].name!==(Je.test(t)?"Down":"Across")},lt={ShiftArrowUp:"PreviousClue",ShiftArrowDown:"NextClue",ShiftArrowLeft:"PreviousClue",ShiftArrowRight:"NextClue"};function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ct=e=>t=>r=>{const n=((e,t)=>{let r=null;switch(t.type){case m:"selection"in t.payload&&(r=t.payload.selection||null);break;case h:r=(e=>{const{selection:t}=e;return null==t.cell?rt(e):null})(e);break;case Y:r=rt(e);break;case q:case I:r=((e,t)=>{var r;let{cells:n,clues:a,selection:o}=e;const l=n[t],{clueList:i}=o,{clues:s}=l,c=s.find((e=>a[e].list===i)),u=c?a[c]:a[s[0]];return u?{cell:t,cellClues:s,clue:u.index,clueCells:u.cells,clueList:null!==(r=u.list)&&void 0!==r?r:null,relatedCells:[],relatedClues:[]}:{cell:t,cellClues:[],clue:null,clueCells:[],clueList:i,relatedCells:[],relatedClues:[]}})(e,t.payload.index);break;case R:r=nt(e,t.payload.index);break;case B:r=at(e);break;case M:{const{direction:n}=t.payload;r=null!=n&&n.startsWith("Arrow")?((e,t)=>{const r=ee(e),{settings:{onSwitch:n}}=r,{puzzle:{data:a},selection:{cellClues:o,clueList:l}}=e;if(!a)return null;if(ot(e,t)){const r=0===o.length,i="move"===n||r||!tt(l,a.clueLists)?Xe(e,t.substring(5)):null;return at(e,i)}return Xe(e,t.substring(5))})(e,n):null!=n&&n.startsWith("Shift")?((e,t)=>{const{puzzle:{data:r},cells:n,selection:{clueList:a}}=e,o=t.replace("ShiftArrow","");if(!r)return null;if(null==a||!tt(a,r.clueLists)){const t=Je.test(o)?r.clueLists.findIndex((e=>"Down"===e.name))||0:r.clueLists.findIndex((e=>"Across"===e.name))||0;return Xe(e,o,t)}if(ot(e,t)){const t=Xe(e,o);if(!t)return null;const r=e=>!P(n[e]);return t.clueCells.every(r)?t:nt(e,t.clue)}return Xe(e,lt[t]||"")})(e,n):Xe(e,n);break}case O:r=Xe(e,"Advance");break;default:return null}return r?(r=((e,t)=>{let{clues:r}=e;const n=r[t.clue];let a=[],o=[];return n&&(o=n.relatives||[],a=o.map((e=>r[e])).reduce(((e,t)=>e.concat(t.cells)),[])),Qe(Qe({},t),{},{relatedCells:a,relatedClues:o})})(e,r),r):null})(e.getState(),r);return t(n?st(st({},r),{},{selection:n}):r)};const ut="crossword/modal/OPEN_MODAL",dt="crossword/modal/CLOSE_MODAL",pt="crossword/modal/REMOVE_MODAL",mt=(e,t)=>({type:ut,payload:{name:e,config:t}}),ft=e=>({type:dt,payload:{isCancelled:e}}),bt=()=>({type:pt}),ht="crossword/timer/RESUME_TIMER",vt="crossword/timer/PAUSE_TIMER",gt="crossword/timer/COMMIT_PROGRESS",yt=(e,t)=>e===ht||e===gt?{type:e,payload:{now:ce()().unix()}}:{type:e,payload:{now:ce()().unix(),isLeavingGame:t}},wt=()=>yt(ht),Et=function(){return yt(vt,arguments.length>0&&void 0!==arguments[0]&&arguments[0])},_t="crossword/toolbar/TOGGLE_PENCIL_MODE",Ot="crossword/toolbar/ENTER_REBUS_MODE",St="crossword/toolbar/EXIT_REBUS_MODE",kt="crossword/toolbar/UPDATE_REBUS",Pt="crossword/toolbar/TOGGLE_HELP_MENU",xt=()=>({type:_t}),jt=e=>({type:Pt,payload:{menu:e}}),Ct=e=>({type:kt,payload:e});var Tt=r(73435);let Dt=function(e){return e.Letter="LETTER_SCOPE",e.Unchecked="UNCHECKED_SCOPE",e.Word="WORD_SCOPE",e.Puzzle="PUZZLE_SCOPE",e.Fifty="FIFTY_SCOPE",e.SeventyFive="SEVENTYFIVE_SCOPE",e}({});const Nt=(e,t,r,n,a)=>{switch(e){case Dt.Unchecked:(0,Tt.$)("click",t,r,"".concat(n,"-incomplete"));break;case Dt.Letter:(0,Tt.$)("click",t,r,"".concat(n,"-square"));break;case Dt.Word:(0,Tt.$)("click",t,r,"".concat(n,"-word"),a);break;case Dt.Puzzle:(0,Tt.$)("click",t,r,"".concat(n,"-puzzle"))}};var Lt=e=>t=>r=>{const n=e.getState(),a=Ce(e.getState()),o=Pe(n)||0,l=a?"mini-page":"game-page";switch(r.type){case _:{const e=(r.payload.cellsInScope||[]).map((e=>n.cells[e].answer)).join("");Nt(r.payload.scope,o,l,"reveal",e);break}case w:Nt(r.payload.scope,o,l,"check");break;case E:Nt(r.payload.scope,o,l,"clear");break;case _t:((e,t,r)=>{const n=r.toolbar.inPencilMode?"pen":"pencil";(0,Tt.$)("click",e,t,n)})(o,l,n);break;case dt:((e,t,r,n)=>{var a;const o=(null===(a=n.modal.config)||void 0===a?void 0:a.actionType)||"",l=e.type!==pt&&"isCancelled"in e.payload&&e.payload.isCancelled||!1;[E,Y].includes(o)&&l&&(0,Tt.$)("click",t,r,"clear-cancel")})(r,o,l,n);break;case Y:(0,Tt.$)("click",o,l,"clear-confirm");break;case vt:(0,Tt.$)("click",o,l,"stop-timer");break;case ht:(0,Tt.$)("click",o,l,"start-timer")}return t(r)};const At=e=>{var t,r;return null!==(t=null===(r=e.meter)||void 0===r?void 0:r.data)&&void 0!==t?t:null},zt=e=>{var t,r;return null!==(t=null===(r=e.meter)||void 0===r?void 0:r.hasLoaded)&&void 0!==t&&t};function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,J.createSelector)(At,(e=>{var t;return null!==(t=null==e?void 0:e.granted)&&void 0!==t?t:null})),(0,J.createSelector)(At,(e=>{var t;return null!==(t=null==e?void 0:e.grantReason)&&void 0!==t?t:null}));let Rt=function(e){return e.standard="standard",e.southpaw="southpaw",e.large_print="large_print",e}({});const Bt={onSwitch:"stay",jumpBack:!0,skipFilled:!0,skipPenciled:!1,showTimer:!0,suppressDisqualificationWarnings:!1,forceGoldStarEligibility:!1,speedUpSyncInterval:!1,suppressAutocheckNotice:!1},Ut=It(It({},Bt),{},{spaceTriggers:"toggle",backspaceAcrossWords:!0,autoAdvance:!0,soundOn:!1}),Gt=It(It({},Bt),{},{spaceTriggers:"clear",backspaceAcrossWords:!1,autoAdvance:!1,soundOn:!0,showMilestones:!0}),Ht={opacity:100,layout:Rt.standard},Wt="crossword/user/CHANGE_SETTING",Yt="crossword/user/LOAD_SETTINGS",qt="crossword/user/RESET_TO_DEFAULTS",Ft="crossword/user/LOAD_PRINT_PREFS",Zt="crossword/user/CHANGE_BLOCK_OPACITY",Vt="crossword/user/CHANGE_PRINT_LAYOUT",$t="crossword/user/USER_TYPE_LOADED",Xt="crossword/user/SET_USER_ACCESS",Kt="crossword/user/ACCESS_DATA_AVAILABLE",Qt=e=>({type:Wt,payload:e}),Jt=e=>({type:$t,payload:e}),er=e=>({type:Xt,payload:e});var tr=function(e){return e.GRANT_S1="User has Xwd entitlement",e.GRANT_S2="User has shortz mode enabled",e.GRANT_S3="User is playing a free puzzle",e.GRANT_S4="Meter granted",e.DENY_S1="Meter did not grant",e.DENY_S2="No meter data available. Puzzle has not been detected as free",e.DENY_S3="No puzzle data available. No meter data available",e}(tr||{});const rr=e=>t=>r=>{const n=e.getState(),a=t(r),o=e.getState();if(oe(n))return a;if(we(o))return a;if(!ye(o))return a;if(Ce(o))return a;if(!zt(o))return a;if(r.type===Kt){switch((e=>{let{meter:t,puzzle:r,access:n}=e;return n.userType.hasXwd?tr.GRANT_S1:n.userType.inShortzMode?tr.GRANT_S2:null!==r?r.freePuzzle?tr.GRANT_S3:null!==t?t.granted?tr.GRANT_S4:tr.DENY_S1:tr.DENY_S2:tr.DENY_S3})({meter:At(o),puzzle:Ee(o),access:ne(o)})){case tr.DENY_S1:case tr.DENY_S2:e.dispatch(er(!1));break;case tr.DENY_S3:break;case tr.GRANT_S1:case tr.GRANT_S2:case tr.GRANT_S3:case tr.GRANT_S4:e.dispatch(er(!0));break;default:e.dispatch(er(!1))}}return a},nr=(0,r(59391).Z)();var ar=n.createContext(nr);const or="crossword/stats/GET_STATS",lr=function(){},ir={log:lr,info:lr,warn:lr,error:lr,dir:lr,time:lr,timeEnd:lr,trace:lr,assert:lr,debug:lr,table:lr,group:lr,groupCollapsed:lr,groupEnd:lr,clear:lr,count:lr,timeStamp:lr};Object.keys(ir).forEach((e=>{ir[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const a="function"==typeof r?r():r;console[e](...a)}}));var sr=ir;function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const dr=(e,t,r)=>r.every((r=>e[r]===t[r])),pr=(e,t)=>t.reduce(((t,r)=>ur(ur({},t),{},{[r]:e[r]})),{}),mr=e=>{let t="";for(let r=0;r<e.length;r+=1)t+="_"===e[r]?e[r+=1].toUpperCase():e[r];return t},fr=e=>{switch(!0){case!e:return e;case Array.isArray(e):return e.map(fr);case"object"==typeof e:return Object.entries(e).reduce(((e,t)=>{let[r,n]=t;return Object.assign(e,{[mr(r)]:fr(n)})}),{});default:return e}},br=()=>Math.random().toString(36).slice(2,8),hr="".concat(i.OB.edge,"/svc/crosswords"),vr=(e,t)=>{const{method:r,url:n,data:a=null,isSync:o}=e;return t.inShortzMode&&sr.info("info: API CALL ".concat(JSON.stringify(e,null,2))),i.Be.request(r,n,{data:a,isSync:o})},gr=e=>{const t="".concat(hr,"/v3/").concat(e.regiId,"/stats-and-streaks.json?date_start=2014-01-01&start_on_monday=true");return vr({method:"GET",url:t},e).then((e=>fr({dailyStats:e.results.stats,streaks:e.results.streaks}))).catch((e=>{sr.error("failed to fetch stats and streaks",e)}))},yr=e=>{const t="".concat(hr,"/v3/").concat(e.regiId,"/mini-stats.json?date_start=2014-01-01&start_on_monday=true");return vr({method:"GET",url:t},e).then((e=>fr({miniStats:e.results}))).catch((e=>{sr.error("failed to fetch mini stats",e)}))},wr=e=>e.status,Er=(0,J.createSelector)(wr,(e=>e.currentProgress)),_r=(0,J.createSelector)(wr,(e=>e.isSolved)),Or=(0,J.createSelector)(wr,(e=>e.autocheckEnabled)),Sr=e=>{let{cells:t,status:r}=e;const n=t.filter((e=>k(e))).length;return(n-((null==r?void 0:r.blankCells)||0))/n},kr=(0,J.createSelector)([be,wr],((e,t)=>Sr({cells:e,status:t}))),Pr=(0,J.createSelector)([wr,Ee,te],((e,t,r)=>{let{firsts:n}=e;if(!t)return!1;switch(!0){case"daily"!==t.publishStream:return!1;case r.forceGoldStarEligibility:return!0;case!!n.revealed:case!!n.timerReset:case!!n.checked:case ce()().isAfter(t.goldStarCutoff):return!1;default:return!0}})),xr=(0,J.createSelector)([Se,_r],((e,t)=>{if(!e)return"";const{beforeStart:r,afterSolve:n}=e;return t&&n||r})),jr=[E,_,O,q,Y],Cr={reached:!1,seen:!1,text:"3/4 Done!",threshold:.75},Tr={reached:!1,seen:!1,text:"Halfway!",threshold:.5};var Dr=e=>t=>r=>{const n=e.getState(),a=t(r),o=e.getState();if(r.type===h&&Pr(o)){(e=>t=>e.isLoggedIn?(e=>Promise.all([yr(e),gr(e)]).then((e=>e.reduce(((e,t)=>Object.assign(e,t)),{}))))(e).then((e=>t({type:or,payload:e}))).catch((e=>{sr.error("fetch stats and streaks failed: ".concat(e.stack))})):Promise.resolve({}))(r.payload.user)(e.dispatch,e.getState,null)}if(!te(o).showMilestones)return a;if(!jr.includes(r.type))return a;const l=kr(n),i=kr(o);if(l===i)return a;if(((e,t)=>{[Cr,Tr].forEach((r=>{const{threshold:n}=r,a=e<=n&&n<t;(a||t<=n&&n<e)&&Object.assign(r,{reached:a,seen:!1})}))})(l,i),((e,t)=>{const r=((e,t)=>{const r=ze(e),n=r&&ve(t)[r.index];return(null==r?void 0:r.unfilledCount)&&!(null!=n&&n.unfilledCount)})(e,t),n=wr(t).incorrectCells<=0;return r&&!n})(n,o)){const e=(e=>{const{index:t}=Ae(e);return e=>{const r=e.reached&&!e.seen;return r&&((e,t)=>{const{text:r}=e;nr.emit("milestone",{text:r,idx:t}),e.seen=!0})(e,t),r}})(n);e(Cr)||e(Tr)}return a},Nr=r(11466),Lr=r.n(Nr);/iPad|iPhone|Safari/.test(navigator.userAgent)&&Lr().config({driver:Lr().LOCALSTORAGE});const Ar="anon",zr=(e,t)=>"".concat(e||Ar,"@").concat(t),Mr=e=>{const t=(new Date).getTime()-2592e5;(e=>Lr().getItem("".concat(e,"#lastPlayed")))(e).then((r=>{(r&&r<=t||null===r)&&(e=>{Lr().removeItem("".concat(e,"#lastPlayed")),Lr().removeItem(e)})(e)}))},Ir=e=>"".concat(e,"#pendingCommits"),Rr=(e,t,r)=>{(e=>Lr().getItem(Ir(e)).then((e=>e||void 0)))(e).then((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r?n[t]=r:delete n[t],Object.keys(n).length?Lr().setItem(Ir(e),n).catch((e=>{console.error("error setting commit key",e)})):(e=>{Lr().removeItem(Ir(e)).catch((e=>{console.error("error clearing pending commits",e)}))})(e)}))};let Br;const Ur=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ar;return Lr().getItem("".concat(e,"#preferences"))},Gr="crossword/puzzle/PUZZLE_LOADED",Hr="crossword/puzzle/PUZZLE_ERROR",Wr=e=>({type:Hr,payload:{status:e}});function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Fr=e=>{if(!N(e))return e;const t=T(e);return qr(qr({},e),{},{confirmed:!0,checked:e.checked&&t,penciled:!1,revealed:!t,guess:e.answer})},Zr=e=>{if(!A(e))return e;const t=T(e);return qr(qr({},e),{},{confirmed:t,checked:!t||e.checked,penciled:!t&&e.penciled,modified:!1})},Vr=(e,t,r)=>{const{inPencilMode:n=!1,fromRebus:a=!1,autocheckEnabled:o=!1}=r||{};if(x(e)&&!a)return e;const l=qr(qr({},e),{},{guess:t,penciled:n,modified:e.checked,confirmed:!1});return o?Zr(l):l},$r=e=>L(e)?Vr(e,""):e,Xr=e=>qr(qr({},e),{},{penciled:!1,revealed:!1,checked:!1,confirmed:!1,modified:!1,guess:""}),Kr=["guess","checked","confirmed","modified","revealed","penciled"],Qr=(e,t,r,n)=>e.map((e=>{if(!k(e)||!r.includes(e.index))return e;const a=t(e);return dr(e,a,Kr)?a:qr(qr({},a),{},{timestamp:n})}));function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const tn=[...Kr,"timestamp"],rn=(e,t)=>{let{cells:r,status:n,timer:a}=t;const{firsts:o,isSolved:l,autocheckEnabled:i}=n,{userID:s,deviceID:c,puzzleID:u}=e,d={deviceID:c,puzzleID:u,userID:s?parseInt(s):null},{sessionElapsedTime:p,resetSinceLastCommit:m}=a,f=r.map((e=>e.timestamp||1/0)).sort()[0]-1||0,b=((e,t)=>e.map((e=>k(e)?en(en({},pr(e,tn)),{},{timestamp:e.timestamp?e.timestamp-t:void 0}):{blank:!0})))(r,f),h=br(),v=en(en({},d),{},{commitID:h,timestamp:ce()().unix(),minGuessTime:f,timerDiff:p,reset:m,solved:l,board:{cells:b},firsts:o,autocheckEnabled:i});return((e,t,r)=>{Rr(e,t,r)})(e.userID,h,v),v},nn=(e,t)=>{const r={guess:"",label:"",penciled:!1,checked:!1,confirmed:!1,revealed:!1,modified:!1};return e.map((e=>e.blank?en(en({},r),{},{type:0,clues:[],index:e.index,answer:e.answer}):(e.timestamp&&(e.timestamp+=t),en(en({},r),e))))},an=e=>{if(!e||!e.calcs)return Promise.reject();const{board:t,minGuessTime:r,calcs:n,firsts:a,lastCommitID:o,userID:l,autocheckEnabled:i=!1}=e,{secondsSpentSolving:s=0,solved:c=!1,eligible:u=!1}=n;return((e,t)=>{Rr(e,t)})(l,o),Promise.resolve({lastCommitID:o,cells:t?nn(t.cells,r):[],status:{firsts:a,isSolved:c,isGoldStarEligible:u,autocheckEnabled:i},timer:{totalElapsedTime:s}})},on=e=>e.timer,ln=(0,J.createSelector)(on,(e=>e.totalElapsedTime)),sn=(0,J.createSelector)(on,(e=>e.sessionStartTimestamp)),cn=(0,J.createSelector)([ln,sn],ue),un=[v,F,ht,vt,M,I,R,B,O,_,E,w,gt,Y,Z,V],dn=[O,_,E,w,Y],pn=[Y,gt];var mn=e=>{let t,r,n=!1;const a=()=>{n&&(n=!1,e.dispatch(yt(gt)))},o=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearInterval(t),t=window.setInterval(a,e?5e3:3e5)};return"object"==typeof window&&o(),t=>a=>{const{type:l}=a;if(l===h)return r=a.payload.user,t(a);const i=e.getState(),s=on(i),c=te(i),u=t(a);if(!r)return u;const d=e.getState(),p=on(d),m=te(d),f=Pe(d),v=r.inShortzMode;if(f){if(c.speedUpSyncInterval!==m.speedUpSyncInterval&&o(m.speedUpSyncInterval),un.includes(l)){const t=pr(d,b);((e,t,r)=>{const n=zr(e,t);Lr().setItem(n,r).catch((e=>{console.error("error storing game",e)})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();Lr().setItem("".concat(e,"#lastPlayed"),t)}(n)})(r.regiId,f,t),v&&sr.log("info: PERSISTED LOCAL GAME due to",a.type);const o=pn.includes(l),c=p.isLeavingGame,u=!s.sessionStartTimestamp,m=!p.sessionStartTimestamp,h=i.status.isSolved,{isSolved:g}=d.status,w=o||!u&&m||!h&&g&&m;dn.includes(l)&&(n=!0),w&&r.isLoggedIn&&r.regiId&&(v&&sr.time("info: PERSISTED REMOTE GAME"),(Br?Promise.resolve(Br):Lr().getItem("deviceID").then((e=>(Br=e||"".concat(br(),"-web"),e||Lr().setItem("deviceID",Br).catch((e=>{console.error("error setting device id",e)})),Br)))).then((n=>{(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={now:ce()().unix(),commits:[rn(e,r)]};return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n="".concat(hr,"/v6/game"),a="".concat(n,".json");return vr({method:"PUT",url:a,data:t,isSync:r},e).catch((e=>{sr.error("Failed to fetch puzzle progress: ",e)}))}(t,a,n).then((e=>(console.groupCollapsed("[XWD on Progress] syncGameState"),console.log("Persisting progress to progress endpoint - /svc/crosswords/v6/game.json"),console.dir({user:t,data:a}),console.groupEnd(),e))).then(an).catch((()=>{console.error("Failed to sync game state")}))})({deviceID:n,puzzleID:f,userID:r.regiId},r,t,!!c).then((t=>{e.dispatch(y(null==t?void 0:t.lastCommitID)),v&&sr.timeEnd("info: PERSISTED REMOTE GAME")}))})).catch((e=>{console.error("Failed to generate device ID:",e)})))}return u}}};const fn=[Wt,qt,Zt,Vt];var bn=e=>{let t;return r=>n=>{const{type:a}=n;if(a===h)return t=n.payload.user,r(n);const o=r(n);return t&&fn.includes(a)&&((e,t)=>{const{printPrefs:r,settings:n}=e;Lr().setItem("".concat(t.regiId||Ar,"#preferences"),{printPrefs:r,settings:n}).catch((e=>{console.error("error storing user prefs",e)}))})(ee(e.getState()),t),o}},hn=r(27670),vn=r(96205);function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wn(e){var t,r;return""===(null==e?void 0:e.answer)||" "===(null==e?void 0:e.answer)||(null==e||null===(t=e.moreAnswers)||void 0===t?void 0:t.valid.includes(""))||(null==e||null===(r=e.moreAnswers)||void 0===r?void 0:r.valid.includes(" "))}const En={name:null,config:null,isClosing:!1};const _n={cell:null,clueCells:[],clue:null,cellClues:[],clueList:null,relatedCells:[],relatedClues:[]};function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const kn=(e,t,r)=>e[t]?e:Sn(Sn({},e),{},{[t]:r});var Pn=(0,hn.UY)({firsts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Sn(Sn({},e),t.payload.status.firsts);case h:return kn(e,"opened",t.payload.now);case F:return kn(e,"solved",t.payload.now);case _:return kn(e,"revealed",t.payload.now);case w:case Z:return kn(e,"checked",t.payload.now);case E:return kn(e,"cleared",t.payload.now);case Y:return kn(e,"timerReset",t.payload.now);default:return e}},isSolved:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return!1;case F:return!0;case m:return t.payload.status.isSolved||!1;default:return e}},isFilled:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case X:return!0;case K:return!1;default:return e}},autocheckEnabled:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return t.payload.status.autocheckEnabled||!1;case Z:return!0;case V:return!1;default:return e}},blankCells:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return e+(t.payload.blankDelta||0);case W:case f:return t.payload.cells.filter(P).length;case q:case _:case E:{const{blankDeltas:r}=t.payload;return e+r.reduce(((e,t)=>e+t),0)}case Y:return t.payload.affectedCells.length;default:return e}},incorrectCells:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return e+(t.payload.incorrectDelta||0);case W:case f:return t.payload.cells.filter(D).length;case q:case _:case E:{const{incorrectDeltas:r}=t.payload;return e+r.reduce(((e,t)=>e+t),0)}case Y:return t.payload.affectedCells.length;default:return e}},lastCommitID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===v&&t.payload.commitID||e},currentProgress:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return t.payload.currentProgress;case m:return Math.floor(Sr(t.payload)/.2);case Y:return 0;default:return e}}});function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Cn={sessionStartTimestamp:void 0,totalElapsedTime:0,sessionElapsedTime:0,resetSinceLastCommit:!1};function Tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Nn={activeMenu:null,inPencilMode:!1,inRebusMode:!1,rebusValue:""};function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const zn={isReady:!1,isSynced:!1,doEscape:!1};function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Rn={settings:Ut,printPrefs:Ht,access:{userType:{},isAccessDataAvailable:!1,canAccessPuzzle:null}};function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Gn="crossword/printOptions/CHANGE_PRINT_OPTION";function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Yn={version:"puzzle",showBlack:!1,showSpoiler:!0};function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Zn={data:null,hasLoaded:!1,error:null};const Vn="crossword/meter/METER_LOADED",$n="crossword/meter/METER_ERROR",Xn=e=>({type:$n,payload:{status:e}});function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Jn={data:null,hasLoaded:!1,error:null};let ea=function(e){return e[e.PENDING=-1]="PENDING",e[e.LEGACY_ONLY=0]="LEGACY_ONLY",e[e.LEGACY_WITH_STATE=1]="LEGACY_WITH_STATE",e[e.STATE_ONLY=2]="STATE_ONLY",e}({});const ta={phase:ea.PENDING};const ra=(0,hn.UY)({cells:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gr:return t.payload.cells;case m:return e.map((e=>k(e)?qr(qr({},e),t.payload.cells[e.index]):e));case Y:return Qr(e,Xr,t.payload.affectedCells,t.payload.now);case q:return Qr(e,(e=>t.payload.index<=e.index?Xr(e):(e=>qr(qr({},e),{},{guess:e.answer,checked:!1}))(e)),t.payload.affectedCells,t.payload.now);case O:{const r="number"==typeof t.payload.index?[t.payload.index]:[];return Qr(e,(e=>Vr(e,t.payload.value,t.payload)),r,t.payload.now)}case E:return Qr(e,$r,t.payload.affectedCells,t.payload.now);case _:return Qr(e,Fr,t.payload.affectedCells,t.payload.now);case w:case Z:return Qr(e,Zr,t.payload.affectedCells,t.payload.now);default:return e}},clues:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gr:return t.payload.clues;case f:{const{cells:e,clues:r}=t.payload;return r.map((t=>{const r=t.cells.map((t=>wn(e[t])?null:e[t])).filter((e=>!!e)).filter(P).length;return yn(yn({},t),{},{unfilledCount:r})}))}case O:{const{cells:r,index:n,blankDelta:a=0}=t.payload;return e.map((e=>"number"==typeof n&&e.cells.includes(n)&&a&&!wn(r[n])?yn(yn({},e),{},{unfilledCount:e.unfilledCount+a}):e))}case Y:return e.map((e=>yn(yn({},e),{},{unfilledCount:e.cells.length})));case E:case _:case q:{const{cells:r,blankDeltas:n,affectedCells:a}=t.payload;return e.map((e=>{const t=n.filter(((t,r)=>{return n=a[r],e.cells.includes(n);var n})).map(((e,t)=>{const n=a[t];return wn(r[n])?0:e})).reduce(((e,t)=>e+t),e.unfilledCount);return yn(yn({},e),{},{unfilledCount:t})}))}default:return e}},meter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vn:return Qn(Qn({},e),{},{data:t.payload.meterResponse,hasLoaded:!0,error:null});case $n:return Qn(Qn({},e),{},{hasLoaded:!0,error:t.payload});default:return e}},modal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return{name:t.payload.name,config:t.payload.config||null,isClosing:!1};case dt:return{name:e.name,config:e.config,isClosing:!0};case pt:return En;default:return e}},printOptions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;return t.type===Gn?Wn(Wn({},e),t.payload):e},puzzle:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gr:return Fn(Fn({},e),{},{data:t.payload.puzzle,hasLoaded:!0,error:null});case Hr:return Fn(Fn({},e),{},{hasLoaded:!0,error:t.payload});default:return e}},selection:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;return"selection"in t&&t.selection||e},stats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===or?Un(Un({},e),t.payload):e},status:Pn,timer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return jn(jn({},e),t.payload.timer);case v:return jn(jn({},e),{},{resetSinceLastCommit:!1});case ht:return jn(jn({},e),{},{sessionStartTimestamp:t.payload.now,sessionElapsedTime:0});case vt:{const{now:r,isLeavingGame:n}=t.payload,{sessionStartTimestamp:a,totalElapsedTime:o}=e,l=a?r-a:0;return jn(jn({},e),{},{sessionElapsedTime:l,sessionStartTimestamp:void 0,totalElapsedTime:o+l,isLeavingGame:n})}case gt:{const{sessionStartTimestamp:r,totalElapsedTime:n}=e,{now:a}=t.payload,o=r?a-r:0;return jn(jn({},e),{},{sessionElapsedTime:o,sessionStartTimestamp:a,totalElapsedTime:n+o,isLeavingGame:!1})}case Y:return{totalElapsedTime:0,sessionElapsedTime:0,sessionStartTimestamp:t.payload.now,resetSinceLastCommit:!0};case F:return jn(jn({},e),{},{sessionElapsedTime:0});default:return e}},toolbar:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return Dn(Dn({},e),{},{inRebusMode:!0,rebusValue:t.payload.initialValue});case St:return Dn(Dn({},e),{},{inRebusMode:!1,rebusValue:""});case kt:return Dn(Dn({},e),{},{rebusValue:t.payload});case _t:return Dn(Dn({},e),{},{inPencilMode:!e.inPencilMode});case"crossword/toolbar/PENCIL_MODE_ON":return Dn(Dn({},e),{},{inPencilMode:!0});case"crossword/toolbar/PENCIL_MODE_OFF":return Dn(Dn({},e),{},{inPencilMode:!1});case Pt:{const{menu:r}=t.payload;return Dn(Dn({},e),{},{activeMenu:r===e.activeMenu?null:r})}default:return e}},transient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return An(An({},e),{},{isReady:!0});case v:return An(An({},e),{},{isSynced:!0});case g:return An(An({},e),{},{doEscape:t.payload});default:return e}},user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:return In(In({},e),{},{settings:In(In({},e.settings),t.payload)});case Yt:case qt:return In(In({},e),{},{settings:In({},t.payload)});case Ft:return In(In({},e),{},{printPrefs:t.payload});case Vt:case Zt:return In(In({},e),{},{printPrefs:In(In({},e.printPrefs),t.payload)});case $t:return In(In({},e),{},{access:In(In({},e.access),{},{userType:In(In({},e.access.userType),t.payload)})});case Xt:return In(In({},e),{},{access:In(In({},e.access),{},{canAccessPuzzle:t.payload})});case Kt:return In(In({},e),{},{access:In(In({},e.access),{},{isAccessDataAvailable:t.payload})});default:return e}},moogle:vn.b,rollout:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;return"crossword/modal/SET_ROLLOUT"===t.type?{phase:t.payload.phase}:e}});function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(47812);const oa=/\d{4}-\d{2}-\d{2}/,la=(e,t)=>{if(t.platforms&&!t.platforms.web)return e;const r=t.text.replace(/\n\n/g,"<br><br>"),n=aa(aa({},t),{},{text:r});return e.concat(n)};function ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ca=new RegExp(/^.+?(?=<img)/),ua=new RegExp(/<img/),da=new RegExp(/^\[aria-label\]/),pa=(e,t)=>sa(sa({},e),{},{index:t}),ma=(e,t,r)=>sa(sa({},e),{},{prev:0===t?r.length-1:t-1,next:t===r.length-1?0:t+1}),fa=e=>sa({type:0,clues:[],confirmed:!1,checked:!1,penciled:!1,revealed:!1,modified:!1,guess:""},e),ba=e=>{const{text:[t]}=e,r=(e=>!(!e.formatted||!ua.test(e.formatted)||(e.formatted=e.formatted.replace(ca,""),0)))(t),n=(e=>e.formatted?da.test(e.plain)?(e.plain=e.plain.replace(da,"").trimStart(),e.plain):e.formatted:e.plain)(t);return sa(sa({list:0,cells:[]},e),{},{text:t.formatted||t.plain,unfilledCount:e.cells?e.cells.length:1/0,isImageClue:r,alternativeAriaLabelText:n})};function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ga=(e,t)=>{return va(va({},e),{},{attributes:(r=e.attributes||[],r.reduce(((e,t)=>{let{name:r,value:n}=t;if("fill"===r)return e;let a=r.startsWith("data")?r:r.replace(/-([a-z])/,((e,t)=>t.toUpperCase()));return"class"===r&&(a="className"),va(va({},e),{},{[a]:n||null})}),{})),children:e.children?e.children.map(ga):[],index:t});var r};var ya=e=>{const{height:t,width:r}=e;return{rowCount:t,columnCount:r,aspectRatio:r/t,cellSize:Math.floor(500/r)}},wa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{beforeStart:r,afterSolve:n}=t,a=t=>null==t?"":(e[t-1]||{}).uri||"";return{beforeStart:a(r),afterSolve:a(n)}};function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oa=(e,t)=>{let r,{publicationDate:n,publishStream:a}=t;if("daily"!==a)return e;switch(fe(n,"MMMDDYYYY")){case"Feb021995":r=[0,1,2,3,4,5,6,8,9,10,11,12,13,14];break;case"Nov022004":r=[225,226,227,228,229,230,231,232,233,234,235,237,238,239];break;case"Oct302014":r=[0,1,2,13,14,15,16,17,30,31,32,47,208,223,224,225,238,239,240,241,242,253,254,255];break;case"Jan062015":r=[60,61,62,88,89,135,136,162,163,164];break;case"Feb142018":r=[0,1,6,7,8,9,10,15,16,17,24,25,26,33,42,170,186,187,188,202,203,204,205,206,218,219,220,221,222,223,224,234,235,236,237,238,239,240,241,242,250,251,252,253,254,255,256,257,258,259,260,266,267,268,269,270,271,272,273,274,275,276,277,278,282,283,284,285,286,287,288];break;default:return e}return e.map(((e,t)=>_a(_a({},e),{},{type:r.includes(t)?4:e.type})))};const Sa=["assets","body"],ka=["SVG"];function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ja(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ca=(e,t)=>{const{assets:r,body:[n]}=e,a=ja(e,Sa),{SVG:o}=n,l=ja(n,ka),i=((e,t)=>{return aa(aa({category:0},e),{},{goldStarCutoff:(r=e.publicationDate,(e=>"string"==typeof e&&oa.exec(e))(r)?ce().tz(r,"America/Los_Angeles").endOf("day").format():ce()({year:3e3}).format()),notes:e.notes?e.notes.reduce(la,[]):e.notes,publishStream:t});var r})(a,t),s=(e=>{const t=e.cells.map(fa).map(pa),r=e.clues.map(ba).map(ma).map(pa),n=e.clueLists.map((t=>((e,t)=>{const r=e.clues.map((e=>t[e]));return sa(sa({},e),{},{cells:r.reduce(((e,t)=>e.concat(t.cells||[])),[])})})(t,e.clues))).map(ma).map(pa);return sa(sa({},e),{},{clues:r,cells:t,clueLists:n})})(l);return xa(xa({meta:i},s),{},{cells:Oa(s.cells,i),dimensions:ya(l.dimensions),board:(c=o,ga(c)),overlays:wa(r,l.overlays)});var c};const Ta=["cells","clues"];const Da=(e,t)=>(r,n)=>{ye(n())||i.Be.get("".concat(hr,"/v6/puzzle/").concat(e,".json"),{withStatus:!0,headers:{"X-Games-Auth-Bypass":"true"}}).then((e=>{if(200===e.status){const n=Ca(e,t),{cells:a,clues:o}=n,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(n,Ta);r(((e,t,r)=>({type:Gr,payload:{cells:e,clues:t,puzzle:r}}))(a,o,l)),r((e=>({type:W,payload:{cells:e}}))(a))}else r(Wr(e.status))})).catch((e=>{console.error(e),r(Wr(e.status))}))};var Na=r(67522),La=r(19406),Aa=r(95854),za=r(9478);function Ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ra=e=>{let t,r=window.location.href;void 0!==e&&({puzzleUrl:r=window.location.href,level:t}=e);const n=(0,Aa.jL)(r);let a={};return void 0!==t&&(a=Ia(Ia({},a),{},{headers:{"NYT-M-Level":window.btoa(t.toString())}})),za.fF.isMeterInDebugMode||!window.abra||window.isHybridWebView||window.gamesAppPlatform||window.newsreaderAppPlatform?(0,za.WO)(r,t):i.Be.get(n,a).then((e=>{(0,Na.kg)("Meter service request succeeded",[n,r,t],e);const a=Ia(Ia({},e),{},{isOffline:!1});return(0,Aa.K7)(a),a})).catch((e=>((0,Na.kg)("Meter service request failed",[n,r,t],e),(()=>{const e=(0,Aa.lJ)(),t=Ia(Ia({},e),{},{isOffline:!0});var r;return!(r=t).granted||r.grantReason!==La.Q.IP&&r.grantReason!==La.Q.SUBSCRIBER&&r.grantReason!==La.Q.OPEN&&r.grantReason!==La.Q.REFERRER&&r.grantReason!==La.Q.FREETIME?(0,Na.kg)("Game is instructed not fail open due to previous grantReason",[e.grantReason]):(0,Na.kg)("Game is instructed to fail open based on previous grantReason",[e.grantReason]),t})())))};var Ba=r(38918),Ua=r(63448);const Ga=(0,J.createSelector)((e=>e.rollout),(e=>e.phase));var Ha=function(e){return e[e.NoStar=0]="NoStar",e[e.Blue=1]="Blue",e[e.Gold=2]="Gold",e}(Ha||{});const Wa=()=>{var e;const{stream:t}=null!==(e=window.gameData)&&void 0!==e?e:{};let r;switch(t){case"daily":case"mini":case"promo":case"bonus":r="crossword_".concat(t);break;default:r="crossword_undated"}return r},Ya={game:Wa(),selectPuzzleIdOrSettings:e=>{const t=Pe(e);return t?t.toString():""},selectMoogleState:e=>e.moogle,shouldSave:(e,t)=>{const r=Ga(e);return!(r!==ea.LEGACY_WITH_STATE&&r!==ea.STATE_ONLY||t.type!==ht&&t.type!==vt&&t.type!==ut&&t.type!==Y||(console.log("[XWD on State] Will save state due to action",t.type,t.payload),0))},selectPersistedState:e=>{const t={cells:[],penciled:[],checked:[],revealed:[],modified:[],correct:[],isSolved:_r(e),playTimeSeconds:ln(e),isAutocheckEnabled:Or(e),isTimerReset:!!wr(e).firsts.timerReset,completionFraction:Sr({cells:be(e),status:wr(e)}),star:0};be(e).forEach((e=>{const{index:r,guess:n,penciled:a,checked:o,revealed:l,modified:i}=e;t.cells.push({index:r,guess:n}),a&&t.penciled.push(r),o&&t.checked.push(r),l&&t.revealed.push(r),i&&t.modified.push(r),T(e)&&t.correct.push(r)})),_r(e)&&"crossword_daily"===Wa()?Pr(e)?t.star=Ha.Gold:t.star=Ha.Blue:t.star=Ha.NoStar;const r=Ga(e);return(r===ea.LEGACY_WITH_STATE||r===ea.STATE_ONLY)&&(console.groupCollapsed("[XWD on State] selectPersistedState"),console.log("Persisting state to state service"),console.dir(t),console.groupEnd()),t},insertProgress:e=>(t,r)=>{Ga(r())===ea.LEGACY_WITH_STATE?(console.groupCollapsed("[XWD on State Phase: LEGACY_WITH_STATE] insertProgress invoked"),console.table(e),console.groupEnd()):ea.STATE_ONLY}},qa=((0,Ua.L)(Ya),(0,Ba.d)(Ya));var Fa=r(64403),Za=r.n(Fa),Va=r(71286),$a=r(48079),Xa=r(20615),Ka=r(53789),Qa=r(60294),Ja=r(57256);const eo=e=>e.modal,to=(0,J.createSelector)(eo,(e=>e.name)),ro=(0,J.createSelector)(to,(e=>!!e)),no=(0,J.createSelector)(eo,(e=>e.config||{actionType:"",scope:null,needToWarn:!1})),ao=(0,J.createSelector)(eo,(e=>e.isClosing)),oo=(e,t)=>{const r=(e=>{switch(e){case Dt.Fifty:return.5;case Dt.SeventyFive:return.75;default:return 1}})(t),n=e.filter((e=>k(e)));return n[Math.ceil(n.length*r-1)].index},lo=(e,t)=>{const{cells:r,selection:n}=e;return r&&r.filter(((e,r)=>{switch(t){case Dt.Letter:return n&&n.cell===r;case Dt.Word:return n&&n.clueCells.includes(r);case Dt.Puzzle:default:return!0}}))},io=e=>{let{cells:t,clues:r,selection:n}=e;return(n?n.clueCells.map((e=>t&&t[e])):[]).filter((e=>{const t=null==e?void 0:e.clues.filter((e=>e!==(null==n?void 0:n.clue)));return null==t?void 0:t.some((e=>r&&r[e].unfilledCount>0))}))},so=(e,t)=>(t===Dt.Unchecked?io:lo)(e,t),co=(e,t,r)=>{const n=so(e,r),a=(e=>{switch(e){case w:case Z:return A;case _:return N;case q:case Y:return k;default:return L}})(t);return null==n?void 0:n.filter(a)},uo=(e,t,r,n)=>x(e)&&!n?0:t!==r?t?1:-1:0,po=(e,t,r)=>uo(e,!t,P(e),!!r),mo=(e,t,r)=>uo(e,!C(e,t),D(e),!!r),fo=e=>(t,r)=>{const n=r(),a=je(n),o=Pe(n),l=ln(n);if(o){if(0===l){const e="mini"===a?"mini-page":"game-page";(0,Tt.$)("click",o,e,"start-game")}t({type:h,payload:{now:ce()().unix(),user:e}})}},bo=()=>(e,t)=>{const r=t(),n=be(r),a=ve(r);e({type:f,payload:{cells:n,clues:a}})};let ho=function(e){return e.Start="Start",e.Pause="Pause",e.Info="Info",e.Settings="Settings",e.Rats="Rats",e.Congrats="Congrats",e.Print="Print",e.Confirmation="Confirmation",e.Share="Share",e}({});const vo=e=>e.toolbar,go=(0,J.createSelector)(vo,(e=>e.inPencilMode)),yo=(0,J.createSelector)(vo,(e=>e.inRebusMode)),wo=(0,J.createSelector)(vo,(e=>e.rebusValue)),Eo=(0,J.createSelector)(vo,(e=>e.activeMenu)),_o=()=>(e,t)=>{const r=t(),n=Ae(r),a=Ce(r);if(!x(n)){const t=Pe(r),l=a?"mini-page":"game-page";(0,Tt.$)("click",t,l,"rebus"),e((o=(null==n?void 0:n.guess)||"",{type:Ot,payload:{initialValue:o}}))}var o},Oo=e=>(t,r)=>{const n=r(),a=wo(n);if(e){const e=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toUpperCase().trim()}(a);t(xo(e,!0))}t({type:St})},So=()=>(e,t)=>{const r=t();e(yo(r)?Oo(!0):_o())},ko=[20,40,60,80],Po=()=>(e,t)=>{const{status:r}=t(),{incorrectCells:n,blankCells:a,isFilled:o}=r;let l="";const i=0===a,s=0===n,c=i&&!s,u=!i;s?(l=F,e(mt(ho.Congrats))):c&&!o?(l=X,e(mt(ho.Rats))):u&&o&&(l=K),e(((e,t)=>{const r=t(),n=Pe(r),a=Er(r),o=ln(r),l=sn(r);if(!n)return;const i=Ce(r)?"mini-page":"game-page",s=kr(r),c=Math.floor(s/.2),u=ue(o,l);if(c>a){for(let e=a;e<c&&e<ko.length;e+=1)(0,Tt.$)("complete",n,i,"".concat(ko[e],"%-complete"),"".concat(u));e({type:$,payload:{currentProgress:c}})}})),l&&e({type:l,payload:{now:ce()().unix()}})},xo=(e,t)=>(r,n)=>{const a=n(),{isSolved:o,autocheckEnabled:l}=wr(a),i=be(a);if(o)return;const s=Ae(a),{inPencilMode:c}=a.toolbar;r({type:O,payload:{blankDelta:s&&po(s,e),incorrectDelta:s&&mo(s,e),index:s&&s.index,inPencilMode:c,autocheckEnabled:l,value:e,fromRebus:!!t,now:ce()().unix(),cells:i}}),r(Po())},jo=(e,t)=>(r,n)=>{const a=n(),o=so(a,t),l=co(a,e,t),i=((e,t)=>{switch(e){case q:return e=>e.index>=t?"":e.answer;case _:return e=>e.answer;default:return()=>""}})(e,oo(a.cells,t)),s=e===q,c=be(a),u={scope:null!=t?t:void 0,cellsInScope:o.map((e=>e.index)),affectedCells:l.map((e=>e.index)),blankDeltas:l.map((e=>po(e,i(e),s))),incorrectDeltas:l.map((e=>mo(e,i(e),s))),now:ce()().unix(),cells:c};s&&Object.assign(u,{index:oo(a.cells,t)}),r({type:e,payload:u}),e===Y&&r(bo()),r(Po())},Co=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(r,n)=>{const a=n(),o=Pr(a),{suppressDisqualificationWarnings:l}=te(a),{isSolved:i}=wr(a);if(i)return void(e===Y&&(r(Oo(!1)),r(jo(e,t))));const s=t===Dt.Puzzle&&e!==w,c=[w,_,Y,Z].includes(e)&&o&&!l;return r(c||s?mt(ho.Confirmation,{needToWarn:c,actionType:e,scope:t}):jo(e,t))}},To=()=>(e,t)=>{const r=t(),n=Pe(r),a=Ce(r)?"mini-page":"game-page";Or(r)?(e({type:V}),(0,Tt.$)("gameplay",n,a,"auto-check","turn-off")):(e(Co(Z)),(0,Tt.$)("gameplay",n,a,"auto-check","turn-on"))},Do=e=>(t,r)=>{const n=r(),a=Pe(n);if(!a)return;const o=((e,t)=>Lr().getItem(zr(e.regiId,t)))(e,a).catch((()=>(sr.debug("error fetching local progress"),null))),l=((e,t,r)=>{const n=e.isLoggedIn?((e,t)=>{const r="".concat(hr,"/v6/game/").concat(t),n="".concat(r,".json");return vr({method:"GET",url:n},e)})(e,t).then((e=>r(e))):Promise.resolve(null);return n})(e,a,an).catch((()=>(sr.debug("error fetching remote progress"),null)));Promise.all([o,l]).then((r=>{var n;let[a,o]=r;const l=((e,t)=>{var r;return!t||!t.lastCommitID||(null==e||null===(r=e.status)||void 0===r?void 0:r.lastCommitID)===t.lastCommitID})(a,o),i=l?a:o,s=l?null==a||null===(n=a.status)||void 0===n?void 0:n.lastCommitID:null==o?void 0:o.lastCommitID;i&&t((e=>(t,r)=>{t({type:m,payload:e}),t(bo())})(i)),t(((e,t)=>(r,n)=>{r(y(t));const a=n(),o=te(a);if(Ka.tq)return;const{status:l}=a;o.showTimer&&!l.isSolved||r(fo(e))})(e,s))}))},No=()=>(e,t)=>{const{user:r}=t(),{settings:n}=r;return e("toggle"===n.spaceTriggers?U():xo(""))},Lo=()=>Co(E,Dt.Letter),Ao=()=>(e,t)=>{const r=t(),n=co(r,E,Dt.Letter);0===(null==n?void 0:n.length)&&e(G("Backspace")),e(Lo())},zo=()=>mt(ho.Pause),Mo=(e,t)=>t<33||t>126&&t<161?null:e.length>1?String.fromCharCode(t).toUpperCase():e.toUpperCase();function Io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Bo=e=>e.transient,Uo=(0,J.createSelector)(Bo,(e=>e.isReady)),Go=(0,J.createSelector)(Bo,(e=>e.doEscape));var Ho=r(73961),Wo=r(902),Yo=r(38661),qo=r(35451),Fo=r(20090);const Zo=(0,J.createSelector)((e=>e.stats),(e=>e.streaks)),Vo=(0,J.createSelector)(Zo,(e=>(null==e?void 0:e.currentStreak)||0)),$o=/Easy\sMode\sNo.\s+[0-9]\d*$/,Xo=e=>e&&e.length>1?e[0].toUpperCase()+e.slice(1):"",Ko=e=>"cell-id-".concat(e),Qo=e=>e&&0!==e.length?1===e.length?e[0].toString():[e.slice(0,-1).join(", ")].concat(e.slice(-1).map((e=>e.toString()))).join(" and "):"",Jo=e=>void 0===e?"By":$o.test(e)?"Grid by":"By",el=e=>{const t="Edited by";return void 0===e?t:$o.test(e)?"Clues by":t},tl=[{id:14177,anchor:"monday-level-easy"},{id:14050,anchor:"fill-in-the-blanks"},{id:14041,anchor:"tense"},{id:14044,anchor:"tense"},{id:14045,anchor:"tense"},{id:14042,anchor:"tense"},{id:14047,anchor:"partners"},{id:14046,anchor:"partners"},{id:14043,anchor:"partners"},{id:14048,anchor:"question-marks"},{id:14049,anchor:"question-marks"},{id:14051,anchor:"question-marks"},{id:14052,anchor:"question-marks"},{id:14053,anchor:"rebus"}],rl=tl.map((e=>e.id)),nl=e=>{const t=tl.find((t=>t.id===e));return t?t.anchor:""};var al=r(35080),ol=r.n(al),ll=r(775),il=r.n(ll),sl=r(89064),cl=r(88494),ul=e=>{let{isMini:t,isGold:r}=e;const{isWeb:a}=(0,Na.vB)(),o=t&&a,l=!t&&r?"gold":"blue",i="xwd__".concat(o?"mini":"puzzle","-progress--").concat(l,"-star"),s=o?"mini__puzzle-icon":"xwd__puzzle-icon";return n.createElement("div",{"data-star":r,"data-testid":"puzzle-icon",className:Za()(s,i)})},dl=r(32825);r(8194),r(1342);const pl=e=>{let{text:t,size:r="large",font:a="karnak",level:o="1"}=e;const l="h".concat(o),i=Za()("pz-moment__title",r,a);return n.createElement(l,{className:i},t)},ml=e=>{let{text:t,variant:r="default",font:a="karnak",level:o="1"}=e;const l="h".concat(o),i=Za()("pz-moment__description",r,a);return n.createElement(l,{className:i,dangerouslySetInnerHTML:{__html:t}})};var fl=r(22865),bl=r.n(fl);const hl=(e,t)=>{if(!e||!t)return e;const r=-1===e.indexOf("?")?"?":"&";return encodeURIComponent("".concat(e).concat(r,"smid=").concat(t))},vl=(e,t)=>{const r="d=".concat(e,"&t=").concat(t),n=bl()(r);return{shareUrl:"".concat("https://www.nytimes.com/badges/games/mini.html","?").concat(r,"&c=").concat(n),shareImageSrc:"".concat("https://www.nytimes.com/badges/games/mini.png","?").concat(r,"&c=").concat(n)}},gl=encodeURIComponent("https://www.facebook.com/");var yl=r(67385),wl=r(80692),El=r(86128);const _l="https://www.nytimes.com/subscription/games",Ol=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!t||!t.navigationLinks||!t.navigationLinks.subscribe)return _l;const r=t.navigationLinks.subscribe;return e&&r[e]?r[e]:r.default||_l};var Sl=e=>{let{message:t,subscribeLinkContext:r,subscribeButtonTxt:a,eventLabel:o,clickLabel:l}=e;const i={spellingBee:()=>{(0,Tt.$)("click","",o,"spelling-bee"),window.location.href="/puzzles/spelling-bee"},tiles:()=>{(0,Tt.$)("click","",o,"tiles"),window.location.href="/puzzles/tiles"},hub:()=>{window.location.href=wl.t.hub}},s=Ol(r,window);return n.createElement("div",{className:"xwd__promotional-content--subscriptionUpsell"},n.createElement("div",{className:"xwd__promotional-content--minimodalMessage"},t),n.createElement("a",{href:s,onClick:e=>{var t;const r=(null===(t=e.currentTarget)||void 0===t?void 0:t.getAttribute("href"))||"",n=(0,El.I3)(r);l?(0,i[l])():r&&n?((0,El.Hu)(r),(0,Tt.$)("click","",o,"subscribe")):r&&!n&&(window.location.href=r)},className:"xwd__promotional-content--link"},a||"Subscribe To Play"))};const kl=()=>((0,n.useEffect)((()=>{(0,Tt.h)("next-game","mini-page","spelling-bee")}),[]),n.createElement("a",{href:"/puzzles/spelling-bee",className:"xwd__nextGameSuggestion--spellingBeeCardEmphasis xwd__nextGameSuggestion--spellingBeeBase",onClick:()=>{(0,Tt.$)("","spelling-bee","mini-page","next-game","",!0)}},n.createElement(dl.Z,{icon:"spelling-bee"}),n.createElement("div",null,n.createElement("span",{className:"xwd__nextGameSuggestion--gameTitle"},"Spelling Bee"),n.createElement("span",null,"Tackle ",n.createElement("strong",null,"today's puzzle."))),n.createElement(dl.Z,{icon:"caret-right"})));var Pl=()=>n.createElement("div",{className:"xwd__nextGameSuggestion"},n.createElement("p",{className:"xwd__nextGameSuggestion--text"},"Game for something new?",n.createElement("br",null),"Make as many words as you can with 7 letters."),n.createElement(kl,null));function xl(e){let{appCta:t,isMini:r,hasXwd:a,registeredNonSub:l}=e;const{isWeb:i,isNewsreaderApp:s}=(0,Na.vB)(),c=r?"mini-modal":"game-modal",u=r&&i,d=u?"mini-congrats-modal":"daily-congrats-modal",p=s&&"Newsreader",m="".concat(r?"mini":"daily","Congrats").concat(p),f=(0,o.v9)(Pe),b=!u&&!a&&!l;return(0,n.useEffect)((()=>{a||(0,Tt.h)("softpaywall",d,t)}),[a]),b?n.createElement(Pl,null):u?n.createElement("div",null,n.createElement(yl.Z,{nextGame:"archive-sb",url:"/crosswords/archive/mini",fromGame:"mini-page",puzzleId:f}),n.createElement(yl.Z,{nextGame:"spelling-bee",fromGame:"mini-page",url:"/puzzles/spelling-bee"})):Sl(l?{message:"Have you played our new matching game? It’s mesmerizing.",eventLabel:c,clickLabel:"tiles",subscribeButtonTxt:"Try Tiles >>",subscribeLinkContext:m}:{message:"Want to be a better solver? Up your game with puzzles for every skill level.",eventLabel:c,clickLabel:"hub",subscribeButtonTxt:"More Puzzles",subscribeLinkContext:m})}const jl="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",");var Cl=e=>jl[e];function Tl(e){let{streakLength:t,verticalStreakLength:r=0,dayIdx:a}=e;const o=t+1,l=r+1;let i;var s;return i=(s=o)>=6||s>=l?"YOU HAVE A ".concat(o,"-DAY STREAK"):"".concat(l," ").concat(Cl(a),"s in a row"),n.createElement("div",{className:"xwd__congrats-modal--streakLength"},n.createElement("i",{className:"xwd__congrats-modal--starIcon"}),i)}const Dl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/Android/.test(e)?"https://play.google.com/store/apps/details?id=com.nytimes.crossword&referrer=utm_source%3DAndroidReaderMini%26utm_medium%3DCongratsModule%26utm_term%3DgetTheApp%26utm_campaign%3DMiniUpsell&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1":/|iPad|iPhone|/.test(e)?"https://itunes.apple.com/us/app/nytimes-crossword-daily-word/id307569751?mt=8":""};function Nl(e){let{appCta:t,HDTest:r}=e;const a=(0,o.v9)(Pe);return n.createElement("button",{type:"button",onClick:r?()=>{const e=Dl();window.open(e,"_blank"),(0,Tt.$)("congrats-modal","game-page","game-page","download-app","GUAC_HD_XWORD_UPSELL_TEST_245",void 0,void 0),localStorage.setItem("app-link-clicked","true")}:()=>{const e=Dl();window.open(e,"_blank"),(0,Tt.$)("click","".concat(a),"mini-page",t),localStorage.setItem("app-link-clicked","true")},className:"xwd__modal--subtle-button"},"Get the app")}function Ll(e){let{displayAppLink:t,appCta:r,close:a,dayIdx:l,isMini:i,streamLabel:s,showTimer:c,registeredNonSub:u,hasXwd:d,isGoldStarEligible:p,formattedSolveTime:m,streakLength:f,verticalStreakLength:b=0,isMobile:h,isNewsreader:v=!1,publicationDate:g,solveTime:y,navigateBack:w,isClosing:E,onRemove:_}=e;const{isWeb:O}=(0,Na.vB)(),{reportExposure:S,hasAbraLoaded:k,getVariant:P}=(0,Ja.Z)(),x=i?$a.config:Xa.config,{unit:j}=(0,Va.useUnit)(x),C=i&&k&&"1_OMA"===P("OMA_ENDSCREENACTIONS_MINI")&&(null==j?void 0:j.canShow),T=!i&&k&&"1_OMA"===P("OMA_ENDSCREENACTIONS_DAILY")&&(null==j?void 0:j.canShow),D=(0,o.v9)(Pe),N=i&&O,L=!d||N,A=n.createElement("span",null,"in ",n.createElement("span",{className:"xwd__bold"},m)),[z,M]=(0,n.useState)(!1),I=(0,o.I0)();(0,n.useEffect)((()=>{navigator.canShare&&navigator.canShare({title:"NYTimes",text:"Test share",url:"https://www.nytimes.com"})&&M(!0)}),[]);const R=()=>{const e=/iPad|iPhone/.test(navigator.userAgent);if(z&&e){const{shareUrl:e}=vl(g,y);navigator.share({title:"I solved the daily mini!",url:"".concat(e,"&smid=na-share")}).then((()=>{(0,Tt.$)("share-tools",void 0,"native-share","share")})).catch((e=>console.warn("Sharing Mini time failed",e))),a()}else a(),(0,Tt.$)("congrats",D,"mini-page","share"),I(mt(ho.Share))},[B,U]=(0,n.useState)(!1),[G,H]=(0,n.useState)(!1),W=(0,sl.Z)("hdUpsellTest"),Y=(0,sl.Z)("hdUpsellTestControl");(0,n.useEffect)((()=>{S("CONV_GUAC_XWord_HDUpsell_Test_0624"),!W&&!Y||i||(H(!0),(0,Tt.h)("congrats-modal","","GUAC_HD_XWORD_UPSELL_TEST_245","game-page")),W&&!i&&U(!0)}),[W,B,Y]);const q=N?[{label:"Share your results",clickHandler:R}]:[{label:"Share your results",className:"secondary xwd__congrats-modal--shareButton",clickHandler:R},{label:"View all games",clickHandler:w}],F=[{label:"Admire your puzzle",className:"secondary",clickHandler:G?()=>((0,Tt.$)("congrats-modal","game-page","game-page","admire-puzzle","GUAC_HD_XWORD_UPSELL_TEST_245",void 0,void 0),a()):void 0},{label:"View all games",clickHandler:G?()=>((0,Tt.$)("congrats-modal","game-page","game-page","view-games","GUAC_HD_XWORD_UPSELL_TEST_245",void 0,"https://www.nytimes.com/crosswords"),w()):w}],Z=s&&"mini"===s.toLowerCase()?n.createElement("div",{className:N?"xwd__center mini__congrats-modal--message":"xwd__center xwd__congrats-modal--message"},"You solved"," ",n.createElement("span",{className:"xwd__bold"},"The ",s),n.createElement("br",null)," ",c&&A,"."):n.createElement("div",{className:"xwd__center xwd__congrats-modal--message"},"You solved a ",n.createElement("span",{className:"xwd__bold"},s),n.createElement("br",null),"Crossword ",c&&A,"."),V=n.createElement("div",{className:"xwd__center"},"You solved the crossword",n.createElement("br",null),c&&A,"."),$=i||!d||h&&!v,X="ios"===window.newsreaderAppPlatform;return n.createElement(cl.Z,{bodyClassName:N?"xwd__congrats-modal mini__congrats-modal":"xwd__congrats-modal",close:a,buttons:(()=>{if(T||C)return;const e=i?q:F;return h?[...e].reverse():e})(),buttonsWrapperClassName:N?"mini__congrats-modal--buttons-wrapper":"xwd__congrats-modal--buttons-wrapper",closeLabel:i?"Back to puzzle":void 0,footer:T||C?null:$?n.createElement(n.Fragment,null,t&&n.createElement(Nl,{appCta:r,HDTest:G}),L&&n.createElement(xl,{isMini:i,appCta:r,registeredNonSub:u,hasXwd:d})):null,isClosing:E,onRemove:_,containerClassName:X?"container-with-inset":""},n.createElement("div",{className:N?"mini__congrats-modal--content":"xwd__congrats-modal--content"},n.createElement(ul,{isMini:i,isGold:p}),n.createElement(pl,{size:"large",text:"Congratulations!"}),s?Z:V,p&&(f>0||b>0)&&n.createElement(Tl,{streakLength:f,verticalStreakLength:b,dayIdx:l||0})),B&&n.createElement("div",{className:"xwd__congrats-modal--homeDelivery_container"},n.createElement("hr",{className:"xwd__congrats-modal--homeDelivery_divider"}),n.createElement("a",{href:"https://www.nytimes.com/subscription/home-delivery?source=crossword-complete",onClick:()=>{(0,Tt.$)("congrats-modal","game-page","goto-subscribe","Solve in pencil, too. - Enjoy the Crossword in print.","GUAC_HD_XWORD_UPSELL_TEST_245",void 0,"https://www.nytimes.com/subscription/home-delivery?source=crossword-complete")}},n.createElement("div",{className:"xwd__congrats-modal--homeDelivery_testButton"},n.createElement("i",{className:"xwd__congrats-modal--homeDelivery_newspaper_icon"}),n.createElement("p",{className:"xwd__congrats-modal--homeDelivery_main"},"Solve in pencil, too.",n.createElement("br",null),n.createElement("span",{className:"xwd__congrats-modal--homeDelivery_sub"},"Enjoy the Crossword in print.")),n.createElement("i",{className:"xwd__congrats-modal--homeDelivery_caret_icon"})))),C&&n.createElement(il(),{HDTest:G,puzzleId:String(D),displayAppLink:t,close:a,handleShareClick:R,navigateBack:w}),T&&n.createElement(ol(),{HDTest:G,displayAppLink:t,puzzleId:String(D),close:a,navigateBack:w}))}function Al(e){let{displayAppLink:t,appCta:r,close:a,showTimer:o,puzzleId:l,puzzleTitle:i,formattedSolveTime:s,isClosing:c,onRemove:u}=e;const d=n.createElement("span",null,"in ",n.createElement("span",{className:"xwd__bold"},s)),p="ios"===window.newsreaderAppPlatform;return n.createElement(cl.Z,{buttons:[{label:"Back to the guide",link:"https://www.nytimes.com/guides/crosswords/how-to-solve-a-crossword-puzzle#".concat(nl(l))}],close:a,footer:t&&n.createElement(Nl,{appCta:r}),isClosing:c,onRemove:u,containerClassName:p?"container-with-inset":""},n.createElement("div",{className:"xwd__congrats-modal--content"},n.createElement("div",{className:"xwd__illustration"}),n.createElement(pl,{size:"large",text:"Super Solving"}),n.createElement("div",{className:"xwd__center"},"You solved the"," ",n.createElement("span",{className:"xwd__bold"},i)," Mini"," ",o&&d,".")))}class zl extends n.Component{constructor(e){super(e),this.state={dayIdx:null,appLinkClicked:!1}}componentDidMount(){const{meta:e,solveTime:t,soundOn:r}=this.props,n="true"===localStorage.getItem("app-link-clicked"),a=(new Date).getDay(),o="mini"===(null==e?void 0:e.publishStream)?"mini-page":"game-page",l=document.getElementById("strut");this.setState({dayIdx:a,appLinkClicked:n}),r&&l instanceof HTMLAudioElement&&(null==l||l.play()),(0,Tt.$)("complete",null==e?void 0:e.id,o,"100%-complete","".concat(t)),"mini"===(null==e?void 0:e.publishStream)&&(0,Tt.h)("congrats-modal","mini-page",this.shouldDisplayAppLink()?"download-app":void 0)}shouldDisplayAppLink(){const{user:{userType:{hasXwd:e}}}=this.props,{appLinkClicked:t}=this.state,r=!!window.newsreaderAppPlatform;return Ka.tq&&e&&!t&&!r}render(){var e;const{close:t,solveTime:r,showTimer:a,isGoldStarEligible:o,user:{userType:l},meta:s,streakLength:c,streaks:u,isClosing:d,onRemove:p}=this.props,{dayIdx:m}=this.state,f=i.abra.getVariant("GAMES_BackToPlayTab_1222"),b=!(window.isHybridWebView||window.gamesAppPlatform||window.newsreaderAppPlatform);if(!s)return null;const{publicationDate:h,publishStream:v,title:g,id:y}=s,{hasXwd:w,isLoggedIn:E}=l,_=((e,t)=>["daily","mini","bonus"].includes(t)?"daily"===t?fe(e,"dddd"):Xo(t):"")(h,v),O=(e=>{return e<60?"".concat(t=e,1===t?" second":" seconds"):de(e);var t})(r),S="mini"===(null===(e=window.gameData)||void 0===e?void 0:e.stream),k=rl.includes(y),P=!!window.newsreaderAppPlatform,x=E&&!w,j=(!S||!b)&&this.shouldDisplayAppLink(),C=Ka.tq&&!P?"congrats-download-app":"",T=n.createElement(Ll,{displayAppLink:j,appCta:C,close:t,dayIdx:m,isMini:S,streamLabel:_,showTimer:a,formattedSolveTime:O,solveTime:r,publicationDate:h,registeredNonSub:x,hasXwd:w,isMobile:Ka.tq,isNewsreader:P,isGoldStarEligible:o,streakLength:c,verticalStreakLength:(()=>{const e=(null==u?void 0:u.verticalStreaks)||[];if(e.length&&m)return e[m].length||0})(),navigateBack:()=>(e=>{const t="ios"===window.newsreaderAppPlatform&&"1_BackToPlayTab"===e;if(window.isHybridWebView&&window.NativeBridge)window.NativeBridge.gamesBackToHub();else if(window.isPlayTab||t){const e=document.createElement("a");e.href="nytimes://play",e.click()}else window.location.href="/crosswords";return null})(f),isClosing:d,onRemove:p});return k?n.createElement(Al,{displayAppLink:j,appCta:C,close:t,showTimer:a,puzzleId:y,puzzleTitle:g||"",formattedSolveTime:O,isClosing:d,onRemove:p}):T}}var Ml=(0,hn.qC)(Qa.ns,(0,o.$j)((e=>{const t=te(e),r=Ee(e),{showTimer:n,soundOn:a}=t,o=Pr(e);return{solveTime:cn(e),showTimer:n,soundOn:a,isGoldStarEligible:o,meta:r,streakLength:Vo(e),streaks:Zo(e)}})))(zl);const Il=(0,n.createContext)({isErsatzShortz:!1,inShortzMode:!1,setShortzMode:()=>{}}),Rl=e=>{let{children:t}=e;const{userType:{inShortzMode:r}}=(0,Qa.aF)(),[a,o]=(0,n.useState)(!1);(0,n.useEffect)((()=>{r&&Lr().getItem("shortz-toggle").then((e=>{o(!!e)}))}),[r]);const l=(0,n.useCallback)((e=>{o(e),(e=>{Lr().setItem("shortz-toggle",e).catch((e=>{console.error("error setting shortz toggle state",e)}))})(e)}),[o]),i=(0,n.useMemo)((()=>({isErsatzShortz:r,inShortzMode:r&&a,setShortzMode:l})),[r,a,l]);return n.createElement(Il.Provider,{value:i},t)},Bl=()=>(0,n.useContext)(Il),Ul=()=>{var e;const t=null===(e=window.location)||void 0===e?void 0:e.pathname;return/tips-and-tricks/.test(t)?"Tips & Tricks":/special/.test(t)?"Special Puzzle":void 0},Gl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/ and /gi," & "):"daily"===t?"The Crossword":"The ".concat(Xo(t)," Crossword")},Hl=function(e){if("bonus"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""))return fe(e,"MMMM YYYY");const t=fe(e,"dddd"),r=fe(e,"MMMM D, YYYY");return"".concat(t,", ").concat(r)};function Wl(e){let{constructors:t,editor:r="",publicationDate:a,title:l,id:i}=e;const{inShortzMode:s}=Bl(),c=(0,o.v9)(je),u=Gl(l,c),d=Qo(t),p=Ul(),m=s&&n.createElement(n.Fragment,null,n.createElement("a",{className:"xwd__details--link",href:"https://admin.games.prd.nyt.net/console/xwd/edit/".concat(i),target:"_blank",rel:"noopener noreferrer"},"Edit #".concat(i))," | ",n.createElement("a",{className:"xwd__details--link",href:"/svc/crosswords/v6/puzzle/".concat(i,".json"),target:"_blank",rel:"noopener noreferrer"},"View JSON"));return n.createElement("div",{className:"xwd__details--container"},p?n.createElement("div",{className:"xwd__details--date"},p):n.createElement(n.Fragment,null,n.createElement("div",{className:"xwd__details--title"},u),n.createElement("div",{className:"xwd__details--date"},Hl(a,c))),m,n.createElement("div",{className:"xwd__details--byline"},d&&n.createElement("span",null,"".concat(Jo(l)," ").concat(d)),r&&n.createElement("span",null,"".concat(el(l)," ").concat(r))))}function Yl(e){const{meta:{constructors:t,editor:r,publishStream:a,publicationDate:o,title:l},isInfo:i=!1}=e,s=Qo(t);return n.createElement(n.Fragment,null,n.createElement("div",{className:"xwd__start-modal--date"},Hl(o,a)),n.createElement("div",{className:Za()("xwd__details--byline",{"xwd__details--byline-info":i})},s&&n.createElement("span",null,"".concat(Jo(l)," ").concat(s)),r&&n.createElement("span",null,"".concat(el(l)," ").concat(r))))}var ql=r(18540),Fl=r(85203);const Zl="DFP_WordleSkipFade_0524";var Vl=r(3655);const $l=()=>"undefined"!=typeof window&&(0,Vl.tq)()&&!!window.isMobileDevice&&!window.gamesAppPlatform&&!window.newsreaderAppPlatform,Xl=(e,t)=>{const r="DFP_MiniSkip",n=e(r);return n&&t(r),"1_Variant"===n},Kl=(e,t)=>{const r=e(Zl);return r&&t(Zl),"1_Variant"===r};var Ql=r(96363),Jl=e=>{let{bodyClassName:t,containerClassName:r,close:a,isClosing:o,onRemove:l,enableCountdown:i,enableFadeIn:s}=e;const c=(0,n.useCallback)((()=>{a()}),[]);return n.createElement(cl.Z,{noAnimateOpen:!0,ignoreBackgroundClick:!0,showHeader:!0,bodyClassName:t,close:a,isClosing:o,onRemove:l,containerClassName:Za()("xwd__ad-modal-container",r)},n.createElement(Ql.Z,{enableCountdown:i,isSpecialAdUnit:!0,id:"intsl",position:"intsl",onClose:c,ctaCopy:"Continue to The Mini Crossword",skipButtonClassName:Za()("xwd__ad-interstitial-skip-button"),className:Za()("xwd__ad-interstitial-container"),delaySkip:s}))},ei=r(88595);const ti="CONV_GUAC_GAMES_MINI_WELCOME_SUBSCRIBE_CTA";function ri(e){let{notes:t}=e;const[r,a]=n.useState(!1),o=n.createElement("p",{key:"revealer",className:"xwd__notes--revealer"},n.createElement("button",{type:"button",onClick:e=>{a(!0),e.preventDefault()}},"Reveal Answer"));return t&&t.length?n.createElement("aside",{className:"xwd__notes--wrapper"},n.createElement("h3",{className:"xwd__notes--title"},"Note"),n.createElement("div",{className:Za()({"xwd__notes--content-container":!Ka.tq})},t.map((e=>{const t=Za()("xwd__notes--content",{"xwd__notes--spoiler":e.spoiler,"xwd__notes--spoiled":e.spoiler&&r}),a=n.createElement("div",{key:e.text,className:t},e.spoiler&&n.createElement("div",null,"ANSWER"),n.createElement("p",{id:"note-text",dangerouslySetInnerHTML:{__html:e.text}}));return e.spoiler&&!r?o:a})))):null}const ni=["So close.","Almost there.","The end’s in sight.","Nearly.","Just about.","Not far-off.","Close, but not quite."],ai=["Confound it.","Grrrr...","Gee whiz!","Fiddlesticks.","Oh, crumbs!","Horsefeathers.","Aw, shucks!"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(this,arguments)}const li=e=>{let{type:t,id:r,name:a,value:o,label:l,checked:i,disabled:s,onChange:c,tabIndex:u=0,showSubText:d=!1,subText:p,subTextClass:m}=e;const f=c?{defaultChecked:i,onChange:c}:{checked:i,readOnly:!0};return n.createElement("label",{htmlFor:r},n.createElement("input",oi({type:t,id:r,name:a,value:o,disabled:s,tabIndex:u},f)),n.createElement("span",null,l),d&&n.createElement("div",{className:m},p))};function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(this,arguments)}const si=e=>n.createElement(li,ii({},e,{type:"radio"}));function ci(e){let{heading:t,children:r}=e;return n.createElement("section",{className:"xwd__settings-modal--section"},n.createElement("header",{className:"xwd__settings-modal--heading"},t),r)}function ui(e){let{onSwitch:t,spaceTriggers:r}=e;return n.createElement(ci,{heading:"After changing direction with arrow keys"},n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(si,{id:"switchStay",name:"onSwitch",value:"stay",label:"Stay in the same square",checked:"stay"===t}),n.createElement(si,{id:"switchMove",name:"onSwitch",value:"move",label:"Move in the direction of the arrow",checked:"move"===t})),n.createElement("header",{className:"xwd__settings-modal--heading"},"Pressing the spacebar should"),n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(si,{id:"triggerClear",name:"spaceTriggers",value:"clear",label:"Clear the current square and advance",checked:"clear"===r}),n.createElement(si,{id:"triggerToggle",name:"spaceTriggers",value:"toggle",label:"Toggle between Across and Down",checked:"toggle"===r})))}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}const pi=e=>n.createElement(li,di({},e,{type:"checkbox"}));function mi(e){let{backspaceAcrossWords:t}=e;return n.createElement(ci,{heading:"At the start of a word"},n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(pi,{name:"backspaceAcrossWords",label:"Backspace into previous word",checked:t})))}function fi(e){let{subSettingsHandler:t,skipFilled:r,skipPenciled:a}=e;return n.useEffect((()=>{r||t("skipPenciled",!1)}),[r]),n.createElement(ci,{heading:"Within a word"},n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(pi,{name:"skipFilled",label:"Skip over filled squares",checked:r,id:"skipFilled"}),n.createElement("div",{className:"xwd__settings-modal--indented"},n.createElement(pi,{name:"skipPenciled",label:"Even penciled-in squares",disabled:!r,checked:a,id:"skipPenciled"}))))}function bi(e){let{jumpBack:t,autoAdvance:r}=e;return n.createElement(ci,{heading:"At the end of a word"},n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(pi,{name:"jumpBack",label:"Jump back to first blank in the word",checked:t}),n.createElement(pi,{name:"autoAdvance",label:"Jump to next clue (if not jumping back)",checked:r})))}function hi(e){let{soundOn:t,showTimer:r,suppressDq:a,showMilestones:o}=e;return n.createElement(ci,{heading:"Interactions"},n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(pi,{name:"soundOn",label:"Play sound on solve",checked:t}),n.createElement(pi,{name:"showTimer",label:"Show timer",checked:r}),n.createElement(pi,{checked:a,name:"suppressDisqualificationWarnings",label:"Suppress disqualification warnings"}),void 0!==o&&n.createElement(pi,{checked:o,name:"showMilestones",label:"Show puzzle milestones"})))}function vi(e){let{forceGoldStarEligibility:t,speedUpSyncInterval:r,suppressAutocheckNotice:a}=e;return n.createElement(ci,{heading:"Debug Settings"},n.createElement("div",{className:"xwd__settings-modal--inset"},n.createElement(pi,{name:"forceGoldStarEligibility",label:"Force Gold Star eligibility",checked:t}),n.createElement(pi,{name:"speedUpSyncInterval",label:"Speed up sync interval (5m->5s)",checked:r}),n.createElement(pi,{name:"suppressAutocheckNotice",label:"Autocheck notice already seen",checked:a})))}const gi=e=>"".concat("https://static01.nytimes.com/games/web/imgs/mobile/packs/pack_icons_").concat(e?"shortz_favorites_2.png":"themeless_puzzles_2.png");function yi(){const{inShortzMode:e,isErsatzShortz:t,setShortzMode:r}=Bl();return t?n.createElement("span",{role:"button",className:"xwd__shortz-toggle",title:(a=e,a?"Exit Shortz Mode :(":"Enter Shortz Mode!"),onClick:()=>r(!e)},n.createElement("img",{src:gi(e),alt:"Shortz Mode"})):null;var a}const wi="You can reveal or check a part of this puzzle, but this will exclude this puzzle from a streak.";const Ei=e=>e.printOptions,_i=(0,J.createSelector)(Ee,(e=>e&&!e.category)),Oi=((0,J.createSelector)(Ei,(e=>e.version)),e=>e.printOptions.version),Si=(0,J.createSelector)(Ee,(e=>{if(!e)return!1;const{category:t,publicationDate:r}=e,n=ce()(r).tz("America/New_York").add({days:4,hours:22}).format(),a=ce()().tz("America/New_York").isSameOrAfter(n);return 8!==t||a})),ki=(0,J.createSelector)(Ee,(e=>{if(!e)return!1;const{category:t,publicationDate:r}=e;if(0!==t)return!1;let n;return"daily"===e.publishStream&&(n="2011-04-01",ce()(r).isSameOrAfter("2011-04-01"))})),Pi=(0,J.createSelector)(_i,Oi,((e,t)=>!e||"newspaper"===t)),xi=(0,J.createSelector)(_i,Oi,((e,t)=>!e||"newspaper"===t)),ji=(0,J.createSelector)(Ee,Oi,((e,t)=>{if(!e)return"";const r="solution"===t?".ans.pdf":".pdf";return"".concat("/svc/crosswords/v2/puzzle/"+e.id+r)})),Ci=(0,J.createSelector)(Ee,(e=>{if(!e)return"";const t=ce()(e.publicationDate).format("MMMM"),r=ce()(e.publicationDate).format("YYYY"),n=ce()(e.publicationDate).format("D");return"".concat(t," ").concat(n,", ").concat(r)})),Ti=(0,J.createSelector)(Ee,Oi,((e,t)=>{if(!e)return"";const r=e.publishStream,n=ce()(e.publicationDate).format("MMMDDYY");return"daily"!==r?"":"".concat("/svc/crosswords/v2/puzzle/print/"+n+("solution"===t?".ans.pdf":".pdf"))})),Di=(0,J.createSelector)(re,xi,((e,t)=>{const{opacity:r,layout:n}=e,a={};return!t&&r<100&&(a.block_opacity=r),"southpaw"===n?a.southpaw=!0:"large_print"===n&&(a.large_print=!0),Object.keys(a).length>0?"?".concat((o=a,Object.entries(o).map((e=>e.join("="))).join("&"))):"";var o})),Ni=(0,J.createSelector)(Ei,_i,ji,Ti,Di,((e,t,r,n,a)=>{const o=t?r:n;switch(e.version){case"puzzle":case"solution":return"".concat(o).concat(a);case"newspaper":return"".concat(n).concat(a);default:return"".concat(r).concat(a)}}));var Li=r(64572),Ai=r.n(Li);const zi=[".",",","?","!","'","backspace","next"],Mi=["rebus","pencil","switch"],Ii=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["prev","secondary","Z","X","C","V","B","N","M","backspace","next"],Mi],Ri=[["1","2","3","4","5","6","7","8","9","0"],["-","/",":",";","(",")","$","&","@",'"'],["prev","tertiary",...zi],Mi],Bi=[["[","]","{","}","#","%","^","*","+","="],["_","\\","|","~","<",">","€","£","¥","•"],["prev","primary",...zi],Mi],Ui={primary:Ii.map((e=>e.join(" "))),secondary:Ri.map((e=>e.join(" "))),tertiary:Bi.map((e=>e.join(" ")))},Gi=["backspace","rebus","pencil","primary","secondary","tertiary","prev","next","switch"],Hi=["backspace","pencil","prev","next","switch"],Wi=["prev","next","switch"],Yi='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="22" viewBox="0 0 11 22" fill="none"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/>\n<path d="M10 1L2 11L10 21" stroke="black" stroke-width="1.75" stroke-linecap="round"/>\n</svg>',qi='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="22" viewBox="0 0 11 22" fill="none"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/>\n<path d="M1 1L9 11L1 21" stroke="black" stroke-width="1.75" stroke-linecap="round"/>\n</svg>',Fi='<svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M2.66272 24.7502L4.36502 23.7288L3.34364 22.7074L2.32227 21.686L1.30089 23.3883L1.42005 24.631L2.66272 24.7502Z" fill="black"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.1127 0.995451C19.805 0.303159 20.9274 0.303157 21.6197 0.995451L25.0553 4.43099C25.7476 5.12328 25.7476 6.24571 25.0553 6.93801L8.72481 23.2685C8.5302 23.4631 8.29297 23.6097 8.03188 23.6967L2.87857 25.4145C1.49273 25.8764 0.174284 24.558 0.63623 23.1721L2.354 18.0188C2.44103 17.7577 2.58765 17.5205 2.78225 17.3259L19.1127 0.995451ZM20.784 1.83112C20.5533 1.60036 20.1791 1.60036 19.9484 1.83112L3.61792 18.1616C3.55306 18.2264 3.50418 18.3055 3.47517 18.3926L1.7574 23.5459C1.60342 24.0078 2.0429 24.4473 2.50485 24.2933L7.65816 22.5755C7.74519 22.5465 7.82427 22.4977 7.88913 22.4328L24.2196 6.10233C24.4504 5.87157 24.4504 5.49743 24.2196 5.26666L20.784 1.83112Z" fill="black"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21.3874 9.76995L16.2805 4.66306L17.1162 3.82739L22.2231 8.93427L21.3874 9.76995Z" fill="black"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.11008 23.0478L3.0032 17.9409L3.83887 17.1052L8.94575 22.2121L8.11008 23.0478Z" fill="black"/>\n</svg>',Zi='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.526 1.19563C16.9165 0.805108 17.5497 0.805108 17.9402 1.19563L20.8472 4.10263C21.2378 4.49315 21.2377 5.12632 20.8472 5.51684L7.02915 19.3349C6.91937 19.4447 6.78555 19.5274 6.63827 19.5765L2.27778 21.03C1.49602 21.2906 0.75228 20.5468 1.01287 19.7651L2.46636 15.4046C2.51546 15.2573 2.59817 15.1235 2.70794 15.0137L16.526 1.19563Z" stroke="white"/>\n<line x1="2.89454" y1="14.8271" x2="7.21575" y2="19.1483" stroke="white"/>\n<path d="M13.5434 4.8859L17.1575 8.5L7.21563 18.4417L3.60153 14.8276L13.5434 4.8859Z" fill="white"/>\n<path d="M16.8795 1.54952C17.0748 1.35426 17.3913 1.35426 17.5866 1.54952L20.4936 4.45652C20.6889 4.65178 20.6889 4.96836 20.4936 5.16362L18.6576 6.99976L15.0435 3.38565L16.8795 1.54952Z" fill="white"/>\n<path d="M2.35426 14.6604C2.1896 14.8251 2.06554 15.0258 1.9919 15.2467L0.5384 19.6072C0.147522 20.7798 1.26313 21.8955 2.43577 21.5046L6.79626 20.0511C7.01718 19.9774 7.21792 19.8534 7.38258 19.6887L6.46671 19.1068L3.65799 20.0431L1.9999 18.385L2.93614 15.5763L2.35426 14.6604Z" fill="white"/>\n</svg>\n',Vi='<svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="7" height="7" rx="0.5" fill="black"/>\n<mask id="path-2-inside-1_1778_10736" fill="white">\n<rect y="9.5" width="7" height="7" rx="0.5"/>\n</mask>\n<rect y="9.5" width="7" height="7" rx="0.5" stroke="black" stroke-width="2" mask="url(#path-2-inside-1_1778_10736)"/>\n<mask id="path-3-inside-2_1778_10736" fill="white">\n<rect y="19" width="7" height="7" rx="0.5"/>\n</mask>\n<rect y="19" width="7" height="7" rx="0.5" stroke="black" stroke-width="2" mask="url(#path-3-inside-2_1778_10736)"/>\n<rect x="9.5" width="7" height="7" rx="0.5" fill="black"/>\n<rect x="19" width="7" height="7" rx="0.5" fill="black"/>\n</svg>',$i='<svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="7" height="7" rx="0.5" fill="black"/>\n<rect y="9.5" width="7" height="7" rx="0.5" fill="black"/>\n<rect y="19" width="7" height="7" rx="0.5" fill="black"/>\n<mask id="path-4-inside-1_1778_10696" fill="white">\n<rect x="9.5" width="7" height="7" rx="0.5"/>\n</mask>\n<rect x="9.5" width="7" height="7" rx="0.5" stroke="black" stroke-width="2" mask="url(#path-4-inside-1_1778_10696)"/>\n<mask id="path-5-inside-2_1778_10696" fill="white">\n<rect x="19" width="7" height="7" rx="0.5"/>\n</mask>\n<rect x="19" width="7" height="7" rx="0.5" stroke="black" stroke-width="2" mask="url(#path-5-inside-2_1778_10696)"/>\n</svg>',Xi='<svg width="28" height="22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.2892 1.58579C10.6643 1.21071 11.173 1 11.7034 1H25.125C26.2296 1 27.125 1.89543 27.125 3V19C27.125 20.1046 26.2296 21 25.125 21H11.7034C11.173 21 10.6643 20.7893 10.2892 20.4142L1.58211 11.7071C1.19158 11.3166 1.19158 10.6834 1.58211 10.2929L10.2892 1.58579Z" stroke="black" stroke-width="1.25"/>\n<line x1="13.0089" y1="7.25" x2="20.9638" y2="15.205" stroke="black" stroke-width="1.25" stroke-linecap="round"/>\n<line x1="0.625" y1="-0.625" x2="11.875" y2="-0.625" transform="matrix(-0.707107 0.707107 0.707107 0.707107 22.2141 7.25)" stroke="black" stroke-width="1.25" stroke-linecap="round"/>\n</svg>\n';function Ki(){const[e,t]=n.useState("primary"),r=(0,o.v9)(yo),a=(0,o.v9)(go),l=(0,o.v9)(wo),i="".concat(r&&"rebus"," ").concat(a&&"pencil"),s=(0,o.v9)(ze),c=(0,o.I0)(),u=e=>{r&&c(Oo(!0)),c(G(e))},d={backspace:Xi,primary:"ABC",secondary:"123",tertiary:"#+=",rebus:"Rebus",pencil:a?Zi:Fi,prev:Yi,next:qi,switch:"Across"===(null==s?void 0:s.direction)?Vi:$i};return n.createElement(Ai(),{baseClass:"xwd__keyboard",layout:Ui,layoutName:e,display:d,buttonTheme:[{class:"icon",buttons:Hi.join(" ")},{class:"custom",buttons:Gi.join(" ")},{class:"selected",buttons:i},{class:"tablet-only",buttons:Wi.join(" ")}],preventDefault:!0,preventMouseDownDefault:!0,stopMouseDownPropagation:!0,onKeyPress:e=>"primary"===e?t("primary"):"secondary"===e?t("secondary"):"tertiary"===e?t("tertiary"):"backspace"===e?c(r&&l?Ct(l.slice(0,-1)):Ao()):"rebus"===e?c(So()):"pencil"===e?c(xt()):"prev"===e?u("PreviousClue"):"next"===e?u("NextClue"):"switch"===e?c(U()):"right"===e?u("Right"):"left"===e?u("Left"):void c(r?Ct(l+e):xo(e)),disableButtonHold:!0,autoUseTouchEvents:!0})}function Qi(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ji extends n.PureComponent{constructor(){super(...arguments),Qi(this,"interval",void 0),Qi(this,"pauseTimeout",void 0),Qi(this,"tick",void 0),Qi(this,"componentDidMount",(()=>{const{pauseFailsafe:e}=this.props;window.addEventListener("visibilitychange",(()=>{document.hidden||"hidden"===document.visibilityState?this.handleBlur():this.handleFocus()})),window.addEventListener("pagehide",(()=>{e()})),window.addEventListener("blur",this.handleBlur),window.addEventListener("focus",this.handleFocus)})),Qi(this,"componentDidUpdate",(()=>{const{shouldBePaused:e}=this.props;e!==this.isPaused()&&(e?this.stopTicking():this.startTicking())})),Qi(this,"isPaused",(()=>!this.interval)),Qi(this,"startTicking",(()=>{const{clickHandler:e,start:t}=this.props;this.tick=Date.now(),this.interval=window.setInterval((()=>{this.tick&&Date.now()-this.tick>1e4?e():this.forceUpdate(),this.tick=Date.now()}),1e3),t()})),Qi(this,"stopTicking",(()=>{const{stop:e}=this.props;this.isPaused()||(this.interval&&(this.interval=window.clearInterval(this.interval)),e())})),Qi(this,"handleFocus",(()=>{this.pauseTimeout&&(window.clearTimeout(this.pauseTimeout),delete this.pauseTimeout)})),Qi(this,"handleBlur",(()=>{const{clickHandler:e,timerIsVisible:t}=this.props;t&&!this.isPaused()&&(Ka.tq&&document.hidden&&e(),this.pauseTimeout||(this.pauseTimeout=window.setTimeout(e,3e4)))}))}render(){const{clickHandler:e,totalElapsedTime:t,shouldBePaused:r,sessionStartTimestamp:a,timerIsVisible:o}=this.props,l=de(ue(t,a)),i="Timer ".concat(r?"Play":"Pause"," Button"),s=n.createElement("button",{type:"button",onClick:()=>!this.isPaused()&&e(),"aria-label":i},n.createElement("div",{className:"timer-count"},l),!this.isPaused()&&n.createElement(dl.Z,{icon:"pause"}));return n.createElement("li",{className:"xwd__tool--button xwd__timer--button"},o&&s)}}var es=(0,o.$j)((e=>{const{transient:t,status:r,timer:n}=e,{isReady:a}=t,{showTimer:o}=te(e),{isSolved:l}=r,{totalElapsedTime:i,sessionStartTimestamp:s}=n,c=ro(e);return{shouldBePaused:!a||c||l,totalElapsedTime:i,sessionStartTimestamp:s,timerIsVisible:o}}),(e=>({start:()=>e(wt()),stop:()=>e(Et()),pauseFailsafe:()=>e(Et(!0))})))(Ji),ts=r(22466);function rs(e){const{clickHandler:t,icon:r,ariaLabel:a,label:o,active:l,open:i,isAutocheckOn:s,children:c}=e,u=Za()("xwd__tool--button",{"xwd__tool--texty":!r,"xwd__tool--active":l,"xwd__tool--open":i,"xwd__tool--autocheck":s});return n.createElement("li",{className:u},n.createElement("button",{type:"button","aria-label":a||o,onClick:e=>{e.stopPropagation(),t(e)}},!o&&n.createElement("i",{className:r,"data-testid":"tool-icon"}),o),c)}function ns(e){const{itemHandler:t,items:r,isAutocheckOn:a}=e,[o,l]=(0,n.useState)(!1),{inShortzMode:i}=Bl();return n.createElement("ul",{className:"xwd__menu--container","data-testid":"help-menu"},r.map((e=>{if(e.shortzOnly&&!i)return null;const r=!e.secondary,s=o!==r,c=a&&e.disabledDuringAutocheck,u=a&&"Autocheck"===e.label;return n.createElement("li",{className:Za()("xwd__menu--item",{"xwd__menu--item-disabled":c,"xwd__menu--item-checked":u,"xwd__menu--item-display":s,"xwd__menu--item-hide":!s}),key:e.label,title:e.title},n.createElement("button",{type:"button",className:"xwd__menu--btnlink",onClick:r=>{!function(e,t,r){const{action:n,scope:a}=t;n?r(n,a):(l(!o),e.stopPropagation()),e.preventDefault()}(r,e,t)}},e.label))})))}function as(e){const{autoCheckEnabled:t,activeMenu:r,execute:a,toggleMenuAction:o,menuData:l}=e;return n.createElement("div",{className:"xwd__toolbar--expandedMenu"},l.map((e=>{let{label:l}=e;const{items:i}=e,s=l.toUpperCase(),c="check"===l&&t;return l=c?"autocheck":l,n.createElement(rs,{open:r===s,label:l,clickHandler:()=>o("MENU",e.label.toUpperCase()),isAutocheckOn:c,key:l},n.createElement(ns,{items:i,itemHandler:a,isAutocheckOn:c}))})))}const os=[{label:"clear",items:[{action:E,scope:Dt.Unchecked,label:"Incomplete",title:"Won’t clear letters that are part of completed crossing words"},{action:E,scope:Dt.Word,label:"Word"},{action:E,scope:Dt.Puzzle,label:"Puzzle"},{action:Y,scope:Dt.Puzzle,label:"Puzzle & Timer"}]},{label:"reveal",items:[{action:_,scope:Dt.Letter,label:"Square"},{action:_,scope:Dt.Word,label:"Word"},{action:_,scope:Dt.Puzzle,label:"Puzzle"},{action:q,scope:Dt.Fifty,label:"49.9%",shortzOnly:!0},{action:q,scope:Dt.SeventyFive,label:"74.9%",shortzOnly:!0},{action:q,label:"99.9%",shortzOnly:!0}]},{label:"check",items:[{action:To,label:"Autocheck"},{action:w,scope:Dt.Letter,label:"Square",disabledDuringAutocheck:!0},{action:w,scope:Dt.Word,label:"Word",disabledDuringAutocheck:!0},{action:w,scope:Dt.Puzzle,label:"Puzzle",disabledDuringAutocheck:!0}]}],ls=[{action:To,label:"Autocheck"},{action:w,scope:Dt.Letter,label:"Check Square",disabledDuringAutocheck:!0},{action:w,scope:Dt.Word,label:"Check Word",disabledDuringAutocheck:!0},{action:w,scope:Dt.Puzzle,label:"Check Puzzle",disabledDuringAutocheck:!0},{action:q,scope:Dt.Fifty,label:"49.9%",shortzOnly:!0},{action:q,scope:Dt.SeventyFive,label:"74.9%",shortzOnly:!0},{action:q,label:"99.9%",shortzOnly:!0},{label:"More 〉"},{action:E,scope:Dt.Unchecked,label:"Clear Incomplete",secondary:!0},{action:E,scope:Dt.Word,label:"Clear Word",secondary:!0},{action:Y,scope:Dt.Puzzle,label:"Reset Puzzle",secondary:!0},{action:_,scope:Dt.Letter,label:"Reveal Square",secondary:!0},{action:_,scope:Dt.Word,label:"Reveal Word",secondary:!0},{action:_,scope:Dt.Puzzle,label:"Reveal Puzzle",secondary:!0},{label:"〈 Back",secondary:!0}];function is(){const{inRebusMode:e,activeMenu:t,inPencilMode:r}=(0,o.v9)(vo),{isSolved:a,autocheckEnabled:l}=(0,o.v9)(wr),{notes:i}=(0,o.v9)(Ee)||{},s=(0,o.v9)(Uo),c=!!window.newsreaderAppPlatform,u=Ka.tq&&!c,[d,p]=(0,n.useState)(!1),m=(0,o.I0)(),f=(e,t)=>{m("function"==typeof e?e():Co(e,t))},b=(e,t)=>{"PENCIL"===e?m(xt()):"REBUS"===e?m(So()):t&&m(jt(t))},h=e=>{m(mt(e))},v=n.createElement("div",{className:Za()("xwd__toolbar--wrapper")},n.createElement("ul",{className:"xwd__toolbar--tools"},!u&&n.createElement("div",null,n.createElement(rs,{clickHandler:()=>h(ho.Settings),icon:"xwd__toolbar_icon--settings-gear",ariaLabel:"Puzzle Settings Menu"})),n.createElement(es,{clickHandler:()=>h(ho.Pause)}),!Ka.tq&&n.createElement(rs,{clickHandler:()=>b("REBUS"),label:"Rebus",active:e}),a?n.createElement("div",{className:Za()("xwd__toolbar--mobileResetButton",Ka.tq)},n.createElement(rs,{clickHandler:()=>f(Y),label:Ka.tq?"":"Reset",icon:Ka.tq?"xwd__toolbar_icon--reset-puzzle":"",ariaLabel:"Reset"})):n.createElement(as,{autoCheckEnabled:l,activeMenu:t,execute:f,toggleMenuAction:b,menuData:os}),Ka.tq&&n.createElement(rs,{clickHandler:()=>{i&&p(!0),h(ho.Info)},icon:Za()("xwd__toolbar_icon--info",{"xwd__toolbar_icon--info-animation":i&&i.length>0&&!d}),ariaLabel:"Info"}),!Ka.tq&&n.createElement(rs,{clickHandler:()=>b("PENCIL"),icon:"xwd__toolbar_icon--pencil".concat(r?"-active":""),active:r}),!a&&n.createElement("div",{className:"xwd__toolbar--condensedMenu"},n.createElement(rs,{active:"MOBILE"===t,icon:"xwd__toolbar_icon--cheat-menu".concat("MOBILE"===t||l?"-active":""),clickHandler:()=>b("MENU","MOBILE"),isAutocheckOn:l,ariaLabel:"Cheat Menu"},n.createElement(ns,{items:ls,isAutocheckOn:l,itemHandler:f}))),u&&n.createElement("div",null,n.createElement(rs,{clickHandler:()=>h(ho.Settings),icon:"xwd__toolbar_icon--settings-gear",ariaLabel:"Puzzle Settings Menu"}))));return n.createElement(ts.Z,{isHidden:!s},v)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}function cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(r),!0).forEach((function(t){ds(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ds(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ps=e=>null==e?void 0:e.text;class ms extends n.PureComponent{constructor(e){super(e),ds(this,"animate",void 0),ds(this,"canvas",void 0),ds(this,"timer",void 0),this.state={message:null},this.canvas=n.createRef(),this.handleMessage=this.handleMessage.bind(this)}componentDidMount(){const{emitter:e}=this.props;this.setupCanvas(),e.on("milestone",this.handleMessage)}componentWillUnmount(){const{emitter:e}=this.props;this.timer&&clearTimeout(this.timer),e.off("milestone",this.handleMessage)}handleMessage(e){const{message:t}=this.state;t||(this.setState({message:e}),this.animate&&this.animate(),this.timer=setTimeout((()=>{this.timer=null,this.setState({message:null})}),1470))}setupCanvas(){this.animate=((e,t)=>{const r=null==e?void 0:e.getContext("2d");if(r)return r.scale(2,2),()=>{let e=0,t=15;r.lineWidth=4,r.lineCap="round",r.strokeStyle="#4F85E5";const n=(e,t)=>{r.moveTo(e,0),r.lineTo(e+Math.max(t,0),0)},a=()=>{if(r.clearRect(0,0,70,70),r.save(),r.translate(35,35),t-=1,e+=1.75,t>=-4){r.beginPath();for(let a=0;a<8;a+=1)n(e,t),r.rotate(Math.PI/4);r.stroke(),r.restore(),requestAnimationFrame(a)}else r.restore()};a()}})(this.canvas.current)}render(){const{boardId:e}=this.props,{message:t}=this.state,r=t&&((e,t)=>{var r,n;const a=null===(r=document.getElementById(Ko(e.idx)))||void 0===r?void 0:r.getBoundingClientRect(),o=null===(n=document.getElementById(t))||void 0===n?void 0:n.getBoundingClientRect();if(a&&o){const e=a.left-o.left,t=a.top-o.top;return{left:e+a.width/2,top:t+a.height/2}}})(t,e);return n.createElement("div",{className:Za()("xwd__milestone",{xwd__show:!!t}),style:us({},r),"data-testid":"milestone"},n.createElement("span",{className:"xwd__pill"},t&&ps&&ps(t)),n.createElement("canvas",{"data-testid":"milestone-canvas",className:"xwd__canvas",ref:this.canvas,style:{width:70,height:70},width:140,height:140}))}}var fs=e=>n.createElement(ar.Consumer,null,(t=>n.createElement(ms,ss({emitter:t},e)))),bs=r(41175),hs=r.n(bs);function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(r),!0).forEach((function(t){ys(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ys(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ws=(e,t,r)=>Math.min(r,Math.max(t,e));class Es extends n.Component{constructor(e){super(e),ys(this,"wrapperRef",void 0),this.state={transitionTime:0,scale:1,x:0,y:0,prevScale:1,prevX:0,prevY:0,startDeltaX:0,startDeltaY:0},this.wrapperRef=n.createRef(),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this)}componentDidMount(){if(!this.wrapperRef.current)return;const e=new(hs())(this.wrapperRef.current,{preventDefault:!0});e.get("pinch").set({enable:!0}),e.on("pinchstart panstart",this.handleStart),e.on("pinchmove panmove",this.handleMove),e.on("pinchend pinchcancel panend pancancel",this.handleEnd)}handleStart(e){this.setState({transitionTime:0,startDeltaX:e.deltaX,startDeltaY:e.deltaY})}handleMove(e){this.setState((t=>{const{prevScale:r,prevX:n,prevY:a,startDeltaX:o,startDeltaY:l}=t,{scale:i,deltaX:s,deltaY:c}=e,u=r*i;return gs(gs({},t),{},1===u&&1===r?{scale:u}:{scale:u,x:n+(s-o),y:a+(c-l)})}))}handleEnd(){this.setState((e=>{let{x:t,y:r,scale:n}=e;const a=this.wrapperRef.current;if(!a)return null;const o=ws(n,1,2),l=Math.ceil((o-1)*(a.clientWidth/2)),i=Math.ceil((o-1)*(a.clientHeight/2)),s=ws(t,-l,l),c=ws(r,-i,i);return{transitionTime:.5,scale:o,x:s,y:c,prevScale:o,prevX:s,prevY:c}}))}createStyle(){const{scale:e,x:t,y:r,transitionTime:n}=this.state;return{transition:"transform ".concat(n,"s"),transform:"translate(".concat(t,"px, ").concat(r,"px) scale(").concat(e,")")}}render(){const{children:e,className:t}=this.props;return n.createElement("div",{className:t,ref:this.wrapperRef,style:this.createStyle(),"data-testid":"zoomable"},e)}}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}function Os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(r),!0).forEach((function(t){ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Os(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ks(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ps extends n.PureComponent{constructor(e){super(e),ks(this,"ref",void 0),ks(this,"value",void 0),ks(this,"handleClick",(e=>{const{type:t,clickHandler:r,openRebus:n}=this.props;null==e||e.persist(),"BLOCK"!==t&&"EXTERNAL"!==t&&(r(),1===(null==e?void 0:e.button)&&n())})),ks(this,"renderChild",((e,t)=>{const{isSolved:r,answer:a,guess:o}=this.props,{attributes:l,content:i,name:s}=e;let c=l.fontSize;const u=r?a:o,d="middle"===l.textAnchor;d&&u.length>1&&(c/=u.length/2);const p=Ss(Ss({},l),{},{fontSize:c});return this.value=d?"".concat(u):"",n.createElement(s,_s({key:t},p,{"data-testid":"cell-".concat(s)}),n.createElement("text",{className:"xwd__cell--hidden","aria-live":"polite"},this.value),i||u)})),ks(this,"renderAssistBadge",(()=>{const{isChecked:e,isRevealed:t,isModified:r,isConfirmed:a,dimensions:o,index:l}=this.props;if(!e&&!t)return null;let i;i=t?"revealed":r||a?"modified":"checked";const{cellSize:s,columnCount:c}=o,u=Math.floor(l/c),d=l%c;return n.createElement("use",{xlinkHref:"#".concat(i),className:"xwd__assistance--".concat(i),x:s*d,y:s*u,"data-testid":"assist-badge"})})),this.ref=n.createRef(),this.value=""}componentDidUpdate(){const{isSelected:e,skipFocus:t}=this.props;e&&this.ref.current&&!t&&document.activeElement!==this.ref.current&&this.ref.current.focus()}render(){const{ariaLabel:e,isSelected:t,isInSelectedClue:r,isRelated:a,isPenciled:o,isConfirmed:l,background:i,innards:s,type:c,index:u}=this.props,d={"xwd__cell--selected":t,"xwd__cell--highlighted":r,"xwd__cell--related":a,"xwd__cell--cell":"BLOCK"!==c,"xwd__cell--block":"BLOCK"===c,"xwd__cell--shaded":"SHADED"===c,"xwd__cell--penciled":o,"xwd__assistance--confirmed":l};return n.createElement("g",{className:"xwd__cell",onClick:this.handleClick,onContextMenu:this.handleClick,"data-testid":"cell-g"},n.createElement("rect",_s({role:"cell",tabIndex:t?0:-1,"aria-label":e,ref:this.ref,id:Ko(u),className:Za()(d,"xwd__cell--nested")},i.attributes)),s.map(this.renderChild),this.renderAssistBadge())}}var xs=Ps;function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}const Cs=e=>{switch(e){case 1:return"EMPTY";case 2:return"CIRCLED";case 3:return"SHADED";case 4:return"EXTERNAL";default:return"BLOCK"}},Ts={Across:"A",Down:"D",Heart:"Heart",Diagonal:"DG"};function Ds(e){let{attributes:t,cellBoard:r,dimensions:a}=e;const l=(0,o.v9)(ro),i=(0,o.v9)(yo),s=(0,o.v9)(_r),c=(0,o.v9)(be),u=(0,o.v9)(ze),d=(0,o.v9)(Le),p=(0,o.v9)(Me),m=(0,o.v9)(Ie),{notes:f}=(0,o.v9)(Ee)||{},b=(0,o.I0)(),h=(/iPad|iPhone/.test(navigator.userAgent),n.useCallback((e=>{if(!u||!Object.keys(u).length)return f&&f.length>0?"No Clue, Notes: ".concat(f[0].text,", Answer: 1 letter, Letter: 1"):"No Clue, Answer: 1 letter, Letter: 1";const{label:t,direction:r,text:n,alternativeAriaLabelText:a}=u;if(t&&r&&n){const n=p.length,o=p.indexOf(e);return"".concat(t).concat(Ts[r]||r,": ").concat(a,", ")+"Answer: ".concat(n," letters, ")+"Letter: ".concat(o+1)}return""}),[u,p,f]));return n.createElement("g",js({},t,{role:"table"}),r.map((e=>{let{children:t,index:r}=e;if("number"!=typeof r)return;const[o,...u]=t,f=c[r],v=r===d;return n.createElement(xs,{key:r,index:r,dimensions:a,background:o,innards:u,isSolved:s,skipFocus:l||i,answer:f.answer||"",guess:f.guess||"",type:Cs(f.type),isPenciled:f.penciled,isChecked:f.checked,isConfirmed:f.confirmed,isModified:f.modified,isRevealed:f.revealed,isSelected:v,isInSelectedClue:p.includes(r),isRelated:m.includes(r),ariaLabel:h(r),clickHandler:()=>b(((e,t)=>t?{type:B}:{type:I,payload:{index:e}})(r,v)),openRebus:()=>b(So())})})))}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(this,arguments)}function Ls(e){let{group:t,grid:r,frame:a,dimensions:o,externalCells:l}=e;if(l.some((e=>e))){const e=((e,t)=>{const{rowCount:r,columnCount:n,cellSize:a}=e,o=e=>e<n,l=e=>e>=n*(r-1),i=e=>e%n==0,s=e=>e%n==n-1,c=e=>e-n,u=e=>e+n,d=e=>e-1,p=e=>e+1,m=(e,t,r)=>{return"M".concat((o=e,o%n*a+3+t),",").concat((e=>Math.floor(e/n)*a+3)(e)+r);var o},f=()=>"l".concat(a,",0"),b=()=>"l0,".concat(a),h=e=>m(e,0,0)+f(),v=e=>m(e,0,a)+f(),g=e=>m(e,0,0)+b(),y=e=>m(e,a,0)+b();return t.reduce(((e,r,n)=>{if(r)return e;const a=t=>{e.lines+=t(n)},m=t=>{e.frame+=t(n)},f=(e,r)=>e(n)||t[r(n)],b=f(o,c),w=f(s,p),E=f(l,u),_=f(i,d);return b&&m(h),_&&m(g),w?m(y):a(y),E?m(v):a(v),e}),{frame:"",lines:""})})(o,l);return n.createElement("g",Ns({},t,{"data-testid":"board-g-group"}),n.createElement("path",Ns({},r,{d:e.lines})),n.createElement("path",Ns({},a,{d:e.frame,strokeLinecap:"round"})))}return n.createElement("g",Ns({},t,{"data-testid":"board-g-group"}),n.createElement("path",r),n.createElement("rect",Ns({},a,{fill:"none"})))}const As=["className"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function Ms(e){let{assistShapes:t=[]}=e;return n.createElement("defs",null,t.map((e=>{const{attributes:{id:t},children:r}=e;return n.createElement("g",{id:"".concat(t),key:t,className:"xwd__assistance--".concat(t),"data-testid":"defs-g"},r.map((e=>{const{attributes:{className:t},name:r}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e.attributes,As);return n.createElement(r,zs({key:t},a,{className:"xwd__assistance--".concat(t)}))})))})))}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(this,arguments)}const Rs="xwd-board";var Bs=e=>{let{isMobile:t}=e;const r=(0,o.v9)(he),a=(0,o.v9)(xr),l=(0,o.v9)(_e),i=(0,o.v9)(ke),s=(0,o.v9)(Ce);if(!l||!i)return null;const{attributes:c,children:u}=l,[d,p,m]=u,{attributes:f,children:[b,h]}=m;return n.createElement("section",{className:Za()("xwd__board",{xwd__mobile:t,xwd__desktop:!t}),"aria-label":"Game Board"},n.createElement(Es,{className:"xwd__board--content"},n.createElement("svg",Is({id:Rs,className:"xwd__svg",preserveAspectRatio:"xMidYMin meet","aria-label":"Puzzle Board for the Crossword"},c),n.createElement("use",{xlinkHref:"#checked"}),n.createElement(Ms,{assistShapes:d.children}),n.createElement(Ds,{attributes:p.attributes,cellBoard:p.children,dimensions:i}),n.createElement(Ls,{group:f,grid:b.attributes,frame:h.attributes,externalCells:r,dimensions:i}),a&&n.createElement("image",{xlinkHref:"".concat(a),width:"100%",height:"100%",className:"xwd__overlay","data-testid":"overlay"})),!t&&!s&&n.createElement(fs,{boardId:Rs})))};function Us(){const e=(0,o.v9)(Pe),t=(0,o.I0)();return n.createElement("button",{type:"button",className:"xwd__printtools--button",onClick:()=>{t(mt(ho.Print)),(0,Tt.$)("daily-page",e,"game-page","print-puzzle")}},n.createElement(dl.Z,{icon:"print-black"}),n.createElement("span",{className:"xwd__printtools--text"},"Print"))}const Gs=["notes","publishStream"];function Hs(){const e=(0,o.v9)(Ee),t=n.useRef(document.getElementById("portal-game-header")),r=(0,o.v9)(Ce),a=!!window.newsreaderAppPlatform,l=!r&&!a;if(!t.current||!e)return null;const{notes:i,publishStream:s}=e,c=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,Gs);return(0,Ho.createPortal)(n.createElement("header",{className:"xwd__header--wrapper"},n.createElement("div",{className:Za()("xwd__header--row",{"xwd__header--fullwidth":r})},n.createElement("div",{className:"xwd__header--puzzle-details-container"},n.createElement(Wl,c),i&&n.createElement(ri,{notes:i})),l&&n.createElement("div",{className:"xwd__header--tools-container"},n.createElement(Us,null)))),t.current)}function Ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(r),!0).forEach((function(t){var n,a,o,l;n=e,a=t,o=r[t],(a="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(a))?l:l+"")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const qs=e=>{const t=e.trim().toUpperCase().replace(" AND "," and ");return t.startsWith("BY ")?t.replace("BY ","By "):"By ".concat(t)},Fs=e=>e.byline?Ys(Ys({},e),{},{byline:qs(e.byline)}):Ys({},e);var Zs=(e,t)=>vr({method:"GET",url:"".concat(hr,"/v6/editorial-content/puzzle/").concat(e,".json")},t).then((e=>(e.featuredArticle=Fs(e.featuredArticle),e.secondaryArticles=e.secondaryArticles.map((e=>Fs(e))),e)));function Vs(e){let{children:t}=e;const r=(0,o.v9)(ro);return n.createElement("div",{"aria-label":"Wordplay Section",className:"xwd__editorial-content--subGameplayGrid",tabIndex:r?-1:0},n.createElement("div",{className:"xwd__editorial-content--header"},n.createElement("a",{href:"https://www.nytimes.com/column/wordplay",target:"_blank",rel:"noopener noreferrer"},"WORDPLAY")),n.createElement("div",{className:"xwd__editorial-content--cardsContainer"},t))}function $s(e){let{kicker:t,headline:r,byline:a,summary:l,thumbURL:i,url:s="https://www.nytimes.com/crosswords",type:c="secondaryCard"}=e;const u=(0,o.v9)(Pe);return n.createElement("a",{className:Za()("xwd__editorial-content--".concat(c),"xwd__editorial-content--editorialCard"),href:s,onClick:()=>(0,Tt.$)(s,u,"game-page","wordplay-content",s),target:"_blank",rel:"noopener noreferrer",tabIndex:0},i&&n.createElement("div",{className:"xwd__editorial-content--imgContainer"},n.createElement("img",{src:i,alt:r})),n.createElement("div",{className:"xwd__editorial-content--meta"},t&&n.createElement("p",{className:"xwd__editorial-content--kicker"},t),r&&n.createElement("h2",null,r),l&&n.createElement("p",{className:"xwd__editorial-content--summary"},l),a&&n.createElement("p",{className:"xwd__editorial-content--byline"},a)))}function Xs(){const[e,t]=(0,n.useState)(void 0),r=(0,o.v9)(Te),{userType:a}=(0,Qa.aF)(),l=(0,o.v9)(Ce);(0,n.useEffect)((()=>{r&&Zs(r,a).then((e=>{t(e)})).catch((e=>{sr.warn(e)}))}),[r]);const i=n.useRef(document.getElementById("portal-editorial-content"));return l||Ka.tq||!i.current||null==e||!e.featuredArticle?null:(0,Ho.createPortal)(n.createElement("div",null,n.createElement(Vs,null,n.createElement($s,{type:"featuredCard",kicker:e.featuredArticle.kicker,headline:e.featuredArticle.headline,byline:e.featuredArticle.byline,summary:e.featuredArticle.summary,thumbURL:e.featuredArticle.thumbURL,url:e.featuredArticle.url}),e.secondaryArticles&&e.secondaryArticles.map((e=>n.createElement($s,{key:e.url,type:"secondaryCard",kicker:e.kicker,headline:e.headline,byline:e.byline,summary:e.summary,thumbURL:e.thumbURL,url:e.url}))))),i.current)}function Ks(){const e=(0,o.v9)(ze),t=(null==e?void 0:e.text)||"",r=(0,o.I0)(),a=()=>r(U()),l=(e,t)=>n.createElement("div",{role:"button",tabIndex:0,className:Za()("xwd__clue-bar-mobile--jump",t),onClick:e,onKeyDown:t=>"Enter"===t.key&&e()},n.createElement("i",{className:"xwd__clue-bar--chevron"}));return n.createElement("div",{className:"xwd__clue-bar-mobile--bar"},l((()=>r(G("PreviousClue"))),"left"),n.createElement("div",{role:"button",className:Za()("middle xwd__clue-format",{"xwd__image-clue-format":null==e?void 0:e.isImageClue}),tabIndex:0,onClick:a,onKeyDown:e=>"Enter"===e.key&&a(),dangerouslySetInnerHTML:{__html:t},"aria-label":"switch direction"}),l((()=>r(G("NextClue")))))}function Qs(){const e=(0,o.v9)(ze);if((0,o.v9)(ro))return n.createElement("div",{className:"xwd__clue-bar-desktop--bar obscured"});const{label:t="",direction:r,text:a=""}=e||{},l=Za()("xwd__clue-bar-desktop--text","xwd__clue-format",{long:a.length>200}),i="".concat(t).concat(r?r[0]:" ");return n.createElement("div",{className:"xwd__clue-bar-desktop--bar"},n.createElement("div",{className:"xwd__clue-bar-desktop--number"},i),n.createElement("div",{className:l,dangerouslySetInnerHTML:{__html:a}}))}function Js(){return Ka.tq?n.createElement(Ks,null):n.createElement(Qs,null)}function ec(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tc extends n.Component{constructor(e){super(e),ec(this,"listRef",void 0),ec(this,"handleClick",(()=>{const{clickHandler:e,index:t,isSelected:r}=this.props;"number"==typeof t&&e&&e(t,r)})),this.listRef=(0,n.createRef)()}componentDidUpdate(){const{isHighlighted:e,isSelected:t,isModalOpen:r}=this.props;if(!e&&!t||r)return;const n=this.listRef.current,a=null==n?void 0:n.parentElement;if(n&&a){const e=n.offsetTop,t=a.offsetTop;a.scrollTo({top:e-t,behavior:"smooth"})}}render(){const{hasNoUnfilledCells:e,isHighlighted:t,isRelated:r,isSelected:a,label:o,text:l="",isImageClue:i}=this.props,s=Za()("xwd__clue--li",{"xwd__clue--filled":e,"xwd__clue--highlighted":t,"xwd__clue--selected":a,"xwd__clue--related":r});return n.createElement("li",{className:s,onClick:this.handleClick,ref:this.listRef,onKeyDown:e=>{"Enter"===e.key&&this.handleClick()}},n.createElement("span",{className:"xwd__clue--label"},o),n.createElement("span",{className:Za()("xwd__clue--text xwd__clue-format",{"xwd__clue--label--has-image":i}),dangerouslySetInnerHTML:{__html:l}}))}}var rc=(0,o.$j)(((e,t)=>{const r=Ne(e),n=ve(e),{index:a}=t;if("number"==typeof a&&n){const e=n[a],t=r.cellClues.includes(a),o=e.list===r.clueList,l=t&&o,i=r.relatedClues.includes(a);return{hasNoUnfilledCells:e.unfilledCount<=0,isHighlighted:t&&!l,isSelected:l,isRelated:i,isImageClue:e.isImageClue}}return{hasNoUnfilledCells:!1,isHighlighted:!1,isSelected:!1,isRelated:!1,isImageClue:!1}}))(tc);function nc(e){let{list:t}=e;const r=(0,o.v9)(ve),a=(0,o.v9)(ro),l=(0,o.I0)(),i=(e,t)=>{l(H(e,t))},s=Za()("xwd__clue-list--list",{"xwd__clue-list--obscured":a}),c="xwd__clue-list--wrapper".concat(Ka.tq?"-mobile":"");return n.createElement("div",{className:c},n.createElement("h3",{className:"xwd__clue-list--title"},t.name),n.createElement("ol",{className:s},t.clues.map((e=>{const{label:t,text:o,index:l,direction:s}=r[e];return n.createElement(rc,{clickHandler:i,index:l,label:t,text:o,key:"".concat(t).concat(s),isModalOpen:a})}))))}function ac(e){let{lists:t}=e;return Ka.tq?n.createElement(n.Fragment,null,t.map((e=>n.createElement(nc,{list:e,key:e.index})))):n.createElement("section",{className:Za()("xwd__layout--cluelists")},t.map((e=>n.createElement(nc,{list:e,key:e.index}))))}function oc(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lc=(e,t)=>{var r,n;const a=(null===(r=document.getElementById(Ko(e)))||void 0===r?void 0:r.getBoundingClientRect())||{top:0,left:0,height:0,width:0},{width:o}=(null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect())||{width:0};return a.width=Math.max(o,a.width),a};class ic extends n.Component{constructor(e){var t;super(e),t=this,oc(this,"inputRef",void 0),oc(this,"invisibleRef",void 0),oc(this,"handleKeyDown",(e=>{switch(e.key){case"Enter":case"NumpadEnter":e.preventDefault(),this.saveAndExit();break;case"Escape":this.saveAndExit(!1);break;case"Tab":e.preventDefault()}e.stopPropagation()})),oc(this,"checkForExitMobile",(e=>{const{key:t}=e;"Tab"===t&&e.preventDefault();let r=0;t&&["Escape","Enter","NumpadEnter"].includes(t)&&(this.setState({visible:!1}),e.preventDefault(),r=300),setTimeout((()=>this.handleKeyDown(e)),r)})),oc(this,"shiftField",(e=>{const t=e.target,{index:r}=this.props;if(r&&t&&!Ka.tq){const{left:e,width:n}=lc(r,this.invisibleRef);let a=e+window.pageXOffset;t.offsetWidth>n&&(a+=n/2-t.offsetWidth/2),t.style.left="".concat(a,"px")}e.stopPropagation()})),oc(this,"updateRebus",(e=>{const t=e.target.value||"",{onRebusChange:r}=this.props;r(t),this.shiftField(e)})),oc(this,"saveAndExit",(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{exit:r}=t.props;r(e)})),this.inputRef=(0,n.createRef)(),this.invisibleRef=(0,n.createRef)(),this.state={width:0,height:0,left:0,top:0,visible:!1}}componentDidMount(){const{index:e}=this.props,{current:t}=this.inputRef;Ka.tq&&this.setState({visible:!0}),t&&t.focus({preventScroll:!0});const{height:r,left:n,top:a,width:o}=lc(e,this.invisibleRef);this.setState({width:o,height:r,left:n,top:a})}componentDidUpdate(e,t){const{index:r}=this.props,{width:n}=lc(r,this.invisibleRef);n&&t.width!==n&&this.setState({width:n})}render(){const{value:e="",offset:t,isSolved:r}=this.props,{height:a,left:o,top:l,visible:i,width:s}=this.state,c=l-t,u=o+window.pageXOffset,d=Ka.tq?{width:s}:{top:c,left:u,height:a,width:s};return n.createElement("div",{className:Za()("xwd__rebus",{"xwd__rebus--mobile":Ka.tq,"xwd__rebus--visible":i})},Ka.tq&&n.createElement("div",null,"Rebus"),n.createElement("input",{id:"rebus-input",name:"rebus",inputMode:Ka.tq?"none":"text",disabled:r,ref:this.inputRef,onChange:e=>this.updateRebus(e),onBlur:()=>this.saveAndExit(!0),onKeyDown:e=>{Ka.tq?(e.persist(),this.checkForExitMobile(e),e.stopPropagation()):this.handleKeyDown(e)},onKeyPress:e=>e.stopPropagation(),className:"xwd__rebus--input",style:d,value:e}),n.createElement("div",{ref:this.invisibleRef,className:"xwd__rebus--invisible",dangerouslySetInnerHTML:{__html:e}}))}}var sc=(0,o.$j)((e=>{const t=Ae(e);return{index:t?t.index:-1,value:e.toolbar.rebusValue,isSolved:e.status.isSolved}}),(e=>({exit:t=>e(Oo(t)),onRebusChange:t=>e(Ct(t))})))(ic),cc=r(34419);const uc=e=>{let{winHeight:t,winWidth:r}=e;const n=r/t;return t<=650&&n>1.8||t<400&&n>1};var dc=e=>{let{inRebusMode:t=!1}=e;const r=(e=>{const{winHeight:t,winWidth:r}=(0,Yo.Z)();return e({winHeight:t,winWidth:r})})(uc),{isSolved:a}=((0,o.v9)(ro),(0,o.v9)(wr)),l=(0,o.I0)();return(0,n.useEffect)((()=>{r?(l(Et()),i.$A.deactivate()):(l(wt()),i.$A.activate())}),[r]),!r||t?null:n.createElement("div",{className:"xwd__landscape-warning"},n.createElement(dl.Z,{icon:"rotate"}),n.createElement("p",null,"Oh no! We can’t fit everything on your screen.",n.createElement("br",null),n.createElement("span",null,"Please rotate your device.")))},pc=r(29180),mc=r(29415);const fc={[ho.Info]:function(e){let{close:t,isClosing:r,onRemove:a}=e;const l=(0,o.v9)(Ee);if(!l)return null;const{notes:i,publishStream:s,title:c}=l;return n.createElement(cl.Z,{bodyClassName:"xwd__info-modal--wrapper",close:t,isClosing:r,onRemove:a},n.createElement("div",{className:"xwd__info-modal"},n.createElement(pl,{size:"medium",text:"Puzzle Info"}),n.createElement(pl,{size:"large",text:Gl(c,s)}),n.createElement(Yl,{meta:l,isInfo:!0})),i&&n.createElement(ri,{notes:i}))},[ho.Settings]:function(e){let{close:t,isClosing:r,onRemove:a}=e;const{isErsatzShortz:l,inShortzMode:i}=Bl(),s=(0,o.v9)(te),{skipFilled:c,backspaceAcrossWords:u,skipPenciled:d,autoAdvance:p,jumpBack:m,soundOn:f,showTimer:b,suppressDisqualificationWarnings:h,showMilestones:v,spaceTriggers:g,onSwitch:y,suppressAutocheckNotice:w,speedUpSyncInterval:E,forceGoldStarEligibility:_}=s,O=(0,o.I0)(),S=(e,t)=>{O(Qt({[e]:t}))},k=[{label:"Save and close",clickHandler:()=>t()},{label:"Restore defaults",disabled:(()=>{const e=Ka.tq?Ut:Gt,t=Object.keys(e);return dr(e,s,t)})(),className:"pz-moment__button secondary",clickHandler:()=>{return O((e=Ka.tq,{type:qt,payload:e?Ut:Gt}));var e}}];return n.createElement(cl.Z,{bodyClassName:"xwd__settings-modal--wrapper",close:t,keyConfig:{Escape:()=>t()},buttons:k,buttonsWrapperClassName:"xwd__settings-btns--wrapper",isClosing:r,onRemove:a},n.createElement("div",{className:"xwd__settings-modal--title-container"},n.createElement(pl,{size:"medium",text:"Puzzle Settings"}),l&&n.createElement(yi,null)),n.createElement("form",{id:"settings-panel",className:"xwd__settings-modal--form",onChange:e=>{const{target:t}=e,{checked:r,name:n,type:a,value:o}=t;S(n,"radio"===a?o:r)}},n.createElement("div",{className:"xwd__settings-modal--column"},!Ka.tq&&n.createElement(ui,{onSwitch:y,spaceTriggers:g}),n.createElement(mi,{backspaceAcrossWords:u}),n.createElement(fi,{subSettingsHandler:S,skipFilled:c,skipPenciled:d})),n.createElement("div",{className:"xwd__settings-modal--column"},n.createElement(bi,{jumpBack:m,autoAdvance:p}),n.createElement(hi,{soundOn:f,showTimer:b,suppressDq:h,showMilestones:v}),i&&n.createElement(vi,{speedUpSyncInterval:E||!1,forceGoldStarEligibility:_||!1,suppressAutocheckNotice:w||!1}))))},[ho.Rats]:e=>{let{close:t,isClosing:r,onRemove:a}=e;const o=n.useRef(Q(ni)),l=n.useRef(Q(ai));return n.createElement(cl.Z,{buttons:[{label:"Keep trying"}],close:t,bodyClassName:"xwd__rats-modal",isClosing:r,onRemove:a},n.createElement(pl,{size:"large",text:o.current}),n.createElement(ml,{text:"The puzzle is filled, but at least one square’s amiss. ".concat(l.current),variant:"small"}))},[ho.Congrats]:Ml,[ho.Confirmation]:function(e){let{close:t,isClosing:r,onRemove:a}=e;const{actionType:l,scope:i,needToWarn:s}=(0,o.v9)(no),{title:c,text:u,buttonLabel:d}=((e,t)=>{switch(e){case w:return{title:"Feeling stuck?",text:wi,buttonLabel:"Check anyway"};case Y:return t?{title:"Resetting the timer will exclude this puzzle from a streak.",text:"Streaks are formed by solving The Crossword within a day of its publish date and without help.",buttonLabel:"Reset timer"}:{title:"",text:"Are you sure you want to start over?",buttonLabel:"Start over"};case _:return t?{title:"Feeling stuck?",text:wi,buttonLabel:"Reveal anyway"}:{title:"",text:"Are you sure you want to reveal the puzzle?",buttonLabel:"Reveal"};case E:return{title:"",text:"Are you sure you want to erase the puzzle?",buttonLabel:"Erase"};case Z:return{title:"Feeling stuck?",text:wi,buttonLabel:"Use autocheck"};default:return{title:"",text:"Are you sure you want to do that?",buttonLabel:"Confirm"}}})(l,s),p=(0,o.I0)(),m=e=>{p(Qt({suppressDisqualificationWarnings:e}))},f=()=>{t(!0),s&&m(!1)},b=()=>{t(),p(jo(l,i))},h=[{label:"Never mind",className:"secondary",clickHandler:f},{label:d,clickHandler:b}],v={Enter:b,NumpadEnter:b,Escape:f},g=n.createElement("div",{className:"xwd__modal-confirm--warning"},n.createElement(pl,{size:"medium",text:c}),n.createElement(ml,{text:u,variant:"small"})),y=s?n.createElement("div",{className:"xwd__modal-confirm--footer"},n.createElement(pi,{name:"suppressDisqualificationWarnings",label:"Don’t show again",onChange:e=>m(e.target.checked)})):null;return n.createElement(cl.Z,{bodyClassName:"xwd__confirmation-modal--wrapper",buttons:h,keyConfig:v,close:t,footer:y,isClosing:r,onRemove:a},s?g:n.createElement(ml,{text:u,variant:"small"}))},[ho.Print]:function(e){let{close:t,isClosing:r,onRemove:a}=e;const l=(0,o.I0)(),{version:i,showBlack:s,showSpoiler:c}=(0,o.v9)(Ei),{opacity:u,layout:d}=(0,o.v9)(re),p=(0,o.v9)(Ee),m=(0,o.v9)(Ni),f=(0,o.v9)(Ci),b=(0,o.v9)(Pi),h=(0,o.v9)(xi),v=(0,o.v9)(ki),g=(0,o.v9)(Si),y=0===(null==p?void 0:p.category),w=e=>{const{target:t}=e,{checked:r,name:n,type:a,value:o}=t;l((e=>({type:Gn,payload:e}))({[n]:"radio"===a?o:r}))},E=e=>{const t=e||Rt.standard;l((e=>({type:Vt,payload:{layout:e}}))(t))},_=()=>window.open("https://www.nytimes.com".concat(m));return n.createElement(cl.Z,{buttons:[{label:"Print",clickHandler:_}],keyConfig:{Enter:_,NumpadEnter:_},ignoreBackgroundClick:!0,close:t,isClosing:r,onRemove:a},n.createElement(pl,{size:"medium",text:"Print"}),n.createElement("div",{className:"xwd__print-modal--printModalContent"},(null==p?void 0:p.formatType)&&n.createElement("div",{className:"xwd__print-modal--puzzleDetails"},n.createElement("div",{className:"xwd__print-modal--puzzleTitle"},p.title||"Daily Puzzle"),n.createElement("div",{className:"xwd__print-modal--puzzleDate"},f)),n.createElement("div",{className:"xwd__print-modal--printOptions"},n.createElement("div",{className:"xwd__print-modal--section"},n.createElement("div",{className:"xwd__print-modal--left"},n.createElement(si,{type:"radio",id:"puzzle",name:"version",value:"puzzle",checked:"puzzle"===i,onChange:w,tabIndex:0,label:"Puzzle"}),y&&n.createElement("div",{className:Za()("xwd__print-modal--inset",{"xwd__print-modal--disabled":b})},n.createElement(si,{type:"radio",id:"standard",name:"layout",value:"standard",checked:"standard"===d,onChange:()=>E(Rt.standard),disabled:b,label:"Standard Layout"}),n.createElement(si,{type:"radio",id:"large_print",name:"layout",value:"large_print",checked:"large_print"===d,onChange:()=>E(Rt.large_print),disabled:b,label:"Large Print"}),n.createElement(si,{type:"radio",id:"southpaw",name:"layout",value:"southpaw",checked:"southpaw"===d,onChange:()=>E(Rt.southpaw),disabled:b,label:"Left-handed"})),n.createElement(si,{type:"radio",id:"solution",name:"version",value:"solution",checked:"solution"===i,onChange:w,disabled:!g,label:"Solution",subText:"(available Thursday 10 p.m. ET)",showSubText:!g,subTextClass:"xwd__print-modal--subscript"})),n.createElement("div",{className:Za()("xwd__print-modal--cellDarkness",{disabled:h})},n.createElement(pi,{onChange:e=>{return t=e.target.checked,void l((e=>({type:Zt,payload:{opacity:e}}))(t?30:100));var t},type:"checkbox",id:"opacity",name:"opacity",checked:u<100,disabled:h,"aria-disabled":h,label:"Ink Saver"}),n.createElement("div",null,n.createElement("div",{className:"xwd__print-modal--opacityIcon"},n.createElement("div",{className:"xwd__print-modal--opacityReference"}),n.createElement("div",{className:"xwd__print-modal--userOpacity",style:{opacity:u/100}}))))),v&&n.createElement("div",{className:"xwd__print-modal--section"},n.createElement(si,{type:"radio",id:"newspaper",name:"version",value:"newspaper",checked:"newspaper"===i,onChange:w,label:"Newspaper Version"})))))},[ho.Start]:function(e){let{close:t,isClosing:r,onRemove:a}=e;const l=(0,o.v9)(Ee),s=(0,o.v9)(Ce),c=(0,o.v9)(Pe),{userType:u}=(0,Qa.aF)(),{getVariant:d,reportExposure:p}=(0,Ja.Z)(),[m,f]=n.useState(!1),[b,h]=n.useState(!1),v=(0,o.I0)(),{getButtonText:g,isGamesSaleActive:y}=(0,ei.Z)(),w=g(),E=y?"mini-welcome-subscribe-anon-cta_button mini-welcome-subscribe-anon-sales_cta_button":"mini-welcome-subscribe-anon-cta_button",_=d("Conv_SubCon_Games_PLOPRO_EXPANSION_246"),O=y?"games-sales-version":"",S=!!_&&"0_Control"!==_,k=d(ti),P=Boolean(s&&k&&"1_subscribe_cta"===k);(0,n.useEffect)((()=>{k&&p(ti)}),[k]);const x=()=>{v(fo(u)),t()},j=(0,n.useCallback)((()=>{!function(){let{isMini:e,entitlement:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isMini:!1,entitlement:"anon"};const r=!t.includes("cr");return e&&r&&$l()}({isMini:s,entitlement:u.entitlement})?x():f(!0)}),[]);n.useEffect((()=>{b&&x()}),[b]);const C="ios"===window.newsreaderAppPlatform,T=(0,Fl.T4)(),D=s&&T,N=!s&&T;n.useEffect((()=>{N&&(0,Tt.h)("welcome","game-page","download-app",null==c?void 0:c.toString()),D&&(0,Tt.h)("welcome","mini-page","download-app",null==c?void 0:c.toString())}),[N,D]);const L="anon"===u.entitlement||"reg"===u.entitlement,A=$l()&&s&&!m,z=d("Conv_MiniWelcome_AA_Test_424"),M=d("CONV_SUBCON_Mini_Sub_Only_245_SUBCON_GROWTH_5-1"),I=s&&"1_variant"===M,R=d("MAPS_wordleRegisNewsletterOptIn_0324");n.useEffect((()=>{L&&A&&p("Conv_MiniWelcome_AA_Test_424")}),[z]),n.useEffect((()=>{R&&p("MAPS_wordleRegisNewsletterOptIn_0324")}),[R]),n.useEffect((()=>{s&&M&&p("CONV_SUBCON_Mini_Sub_Only_245_SUBCON_GROWTH_5-1")}),[M]);const B=()=>{s&&_&&p("Conv_SubCon_Games_PLOPRO_EXPANSION_246");let e=window.navigationLinks.register;S&&(e=window.navigationLinks.loginOffer),null!=R&&null!=e&&(e="".concat(e,"&display=,").concat(R)),window.navigationLinks.register&&((0,Tt.$)("","","mini-page","register"),window.location.href=e)},U=()=>{p(ti),(0,Tt.$)("click",c,"mini-page","subscribe"),((e,t,r)=>{const n=Ol("");window.isHybridWebView&&window.NativeBridge?window.NativeBridge.gamesAuthenticateUser("subscribe").then((e=>{if(!e.success)throw new Error(e.error);window.dispatchEvent(new CustomEvent("gamesUserCredentialChanged",{detail:e}))})).catch((e=>{console.error("Failed to authenticate user",e)})):(0,El.I3)(n)?(0,El.Hu)(n):window.location.assign(n)})()};if(!l)return null;const{title:G,publishStream:H}=l,W=!!(0,i.vl)("nl"),Y=!u.isLoggedIn&&!window.newsreaderAppPlatform&&!W,q=(F=u.hasXwd,I&&!F?[{label:w,clickHandler:()=>{let e=window.navigationLinks.subscribe.default;null!=R&&null!=e&&(e="".concat(e,"&display=,").concat(R)),window.navigationLinks.subscribe.default&&((0,Tt.$)("","","mini-page",w),window.location.href=e)}}]:Y?P?[{label:"Create a free account",className:O,clickHandler:B},{className:E,label:w,clickHandler:U}]:[{label:"Create a free account",className:O,clickHandler:B}]:L&&P?[{label:"Play",className:O},{className:E,label:w,clickHandler:U}]:[{label:"Play",className:O}]);var F;const Z=((e,t,r)=>t&&!e?n.createElement(ml,{text:"Ready to start solving? <br> Subscribers enjoy full access.",variant:"small"}):r?n.createElement(ml,{text:"Save your progress across devices and compare times with friends.",variant:"small"}):n.createElement(ml,{text:"Ready to start solving?"}))(u.hasXwd,I,Y),V=((e,t)=>t?e?n.createElement("div",null,"Already a subscriber?",n.createElement("button",{type:"button",onClick:B,className:"xwd__modal--subtle-button"},"Log in.")):n.createElement("button",{type:"button",onClick:j,className:"xwd__modal--subtle-button"},"Play without an account"):n.createElement(Yl,{meta:l}))(I,Y),$=()=>{const e=s?"mini-page":"game-page";(0,i.ob)({name:e,label:"welcome-download-app",context:c,region:"welcome",moduleLabel:"https://fpx3r.app.goo.gl/app-store"})};return m?n.createElement(Jl,{bodyClassName:Za()("xwd__start-modal",{mini:s}),close:()=>{h(!0)},containerClassName:Za()("start-modal-container",{"ios-newsreader":C}),isClosing:r,onRemove:a,enableCountdown:Xl(d,p),enableFadeIn:Kl(d,p)}):n.createElement(cl.Z,{buttons:q,close:j,hideCloseX:!0,ignoreBackgroundClick:!0,bodyClassName:Za()("xwd__start-modal",{mini:s}),footer:V,showHeader:!0,isClosing:r,onRemove:a,noAnimateOpen:!0,containerClassName:Za()("start-modal-container",{"ios-newsreader":C})},n.createElement("i",{className:Za()("xwd__start-modal--icon",{mini:s})}),n.createElement(pl,{size:"large",text:Gl(G,H)}),Z,T?s?n.createElement(ql.j,{title:"Keep your top spot, in app",message:"New Leaderboard experience, coming soon to the app!",icon:"mini_leaderboard",ctaLink:"https://fpx3r.app.goo.gl/app-store",newTab:!0,onClickLink:()=>$(),type:ql.Z.SINGLE,position:"fixed",dropShadow:!0}):n.createElement(ql.j,{title:"Play ".concat(s?"The Mini":"The Crossword"," and more in the NYT Games app."),icon:"crossword-app",ctaLink:"https://fpx3r.app.goo.gl/app-store",newTab:!0,position:"fixed",onClickLink:()=>$(),type:ql.Z.MULTI}):null)},[ho.Pause]:function(e){let{close:t,isClosing:r,onRemove:a}=e;const l=(0,o.v9)(Ee);return l?n.createElement(cl.Z,{buttons:[{label:"Continue"}],ignoreBackgroundClick:!0,hideCloseX:!0,close:t,isClosing:r,onRemove:a,footer:n.createElement(Yl,{meta:l}),containerClassName:"pause-modal"},n.createElement(pl,{size:"large",text:"Your game is paused."}),n.createElement(ml,{text:"Ready to play?"})):null},[ho.Share]:e=>{let{close:t,isClosing:r,onRemove:a}=e;const[l,i]=(0,n.useState)(!1),s=(0,n.useRef)(null),c=n.useRef(null),u=(0,o.v9)(cn),d=(0,o.v9)(Te),{shareUrl:p,shareImageSrc:m}=vl(d,u),f=encodeURIComponent("I solved the daily mini!");return(0,n.useEffect)((()=>()=>{clearTimeout(c.current)}),[]),n.createElement(cl.Z,{close:t,isClosing:r,onRemove:a,bodyClassName:"xwd__share-modal"},n.createElement(pl,{size:"large",text:"Share Your Victory"}),n.createElement("div",{className:"xwd__share-modal_toutImageWrapper"},n.createElement("img",{src:m,alt:"social media achievement",className:"xwd__share-modal_toutImage"})),n.createElement("ul",{className:"xwd__share-modal_shareNetworks"},n.createElement("li",{className:"xwd__share-modal_shareItem"},n.createElement("button",{ref:s,type:"button","aria-label":"Copy Link",id:"copyUrlId",onClick:()=>{if(s.current){const e="".concat(p,"&smid=").concat("url-share"),t=document.createElement("input");t.type="text",t.value=e,s.current.append(t),t.select(),document.execCommand("copy"),t.remove(),i(!0),(0,Tt.$)("share-tools",void 0,"share-url","Permalink"),clearTimeout(c.current),c.current=setTimeout((()=>{i(!1)}),5e3)}},className:Za()("xwd__share-modal_shareLinkButton",{"xwd__share-modal_copiedLink":l})},n.createElement("i",{className:Za()("xwd__share-modal_shareIcon","link")}),n.createElement("div",{className:"xwd__share-modal_shareLink"},l?"Copied":"Copy Link"))),n.createElement("li",{className:"xwd__share-modal_shareItem"},n.createElement("a",{href:"https://www.facebook.com/dialog/feed?app_id=9869919170&link=".concat(hl(p,"fb-share"),"&name=").concat(f,"&redirect_uri=").concat(gl),target:"_blank","aria-label":"Share on Facebook",rel:"noopener noreferrer",onClick:()=>{(0,Tt.$)("share-tools",void 0,"share-facebook","Facebook")}},n.createElement("i",{className:Za()("xwd__share-modal_shareIcon","facebook")}),n.createElement("div",{className:"xwd__share-modal_shareLink"},"Facebook"))),n.createElement("li",{className:"xwd__share-modal_shareItem"},n.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(hl(p,"tw-share"),"&text=").concat(f),target:"_blank","aria-label":"Share on Twitter",rel:"noopener noreferrer",onClick:()=>{(0,Tt.$)("share-tools",void 0,"share-twitter","Twitter")}},n.createElement("i",{className:Za()("xwd__share-modal_shareIcon","twitter")}),n.createElement("div",{className:"xwd__share-modal_shareLink"},"Twitter"))),n.createElement("li",{className:"xwd__share-modal_shareItem"},n.createElement("a",{href:"https://t.me/share/url?url=".concat(hl(p,"tel-share"),"&text=").concat(f," via @nytimes"),target:"_blank","aria-label":"Share on Telegram",rel:"noopener noreferrer",onClick:()=>{(0,Tt.$)("share-tools",void 0,"share-telegram","Telegram")}},n.createElement("i",{className:Za()("xwd__share-modal_shareIcon","telegram")}),n.createElement("div",{className:"xwd__share-modal_shareLink"},"Telegram"))),n.createElement("li",{className:"xwd__share-modal_shareItem"},n.createElement("a",{href:"https://api.whatsapp.com/send?text=".concat(f,"%20").concat(hl(p,"wa-share")),target:"_blank","aria-label":"Share on WhatsApp",rel:"noopener noreferrer",onClick:()=>{(0,Tt.$)("share-tools",void 0,"share-whatsapp","WhatsApp")}},n.createElement("i",{className:Za()("xwd__share-modal_shareIcon","whatsapp")}),n.createElement("div",{className:"xwd__share-modal_shareLink"},"Whatsapp")))))}};function bc(e){let{clueLists:t,inRebusMode:r,doEscape:a,puzzleEscaped:l,isMobile:i}=e;const s=(0,n.useRef)(null),c=(0,n.useRef)(null),u=!!window.newsreaderAppPlatform,d="android"===window.newsreaderAppPlatform;(0,mc.Z)(),(0,n.useEffect)((()=>{s.current&&a&&!i&&(s.current.focus(),l&&l())}),[a]);const p=(0,n.useRef)(null),[m,f]=(0,n.useState)(0);(0,n.useEffect)((()=>{var e;const t=(null===(e=p.current)||void 0===e?void 0:e.getBoundingClientRect().top)||0;f(t)}),[r]);const{willShowDeltaBanner:b,portalEl:h}=(0,Wo.Z)(),v=(0,o.I0)(),g=(0,o.v9)(ro),y=(0,o.v9)(to),{isSolved:w}=(0,o.v9)(wr),{winWidth:E}=(0,Yo.Z)();return(0,n.useEffect)((()=>{w&&v(Et())}),[w]),(0,n.useEffect)((()=>{const e=document.getElementById("js-nav-burger"),t=()=>{null==e||!e.classList.contains("active")||g||w||v(mt(ho.Pause))};null==e||e.addEventListener("click",t);const r=document.getElementById("cache-safe-games-sale-banner-a");return r&&!g&&r.classList.add("hide-game-sale-banner"),()=>{null==e||e.removeEventListener("click",t)}})),(0,n.useEffect)((()=>{const e=document.getElementById("js-nav-burger"),t=document.getElementById("js-global-nav"),r=()=>(0,qo._)(e,t,g&&y===ho.Start,E);return null==e||e.addEventListener("click",r),()=>{null==e||e.removeEventListener("click",r)}}),[g,y,E]),(0,n.useEffect)((()=>{if(i&&!u){const e=()=>{const e=c.current,t=document.getElementsByClassName("pz-header")[0].clientHeight||0;if(e){const r=window.innerHeight-t;e.setAttribute("style","height:".concat(r,"px"))}};e();const t=(0,Fo.Ds)(e,50);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}}),[i,b]),n.createElement("div",{className:"xwd__layout_container",ref:p},b&&h&&(0,Ho.createPortal)(n.createElement(pc.Z,{url:document.location.href,isDelta:!0}),h),i&&n.createElement(dc,{inRebusMode:r}),n.createElement(cc.Z,{getOpenModalName:to,getIsClosing:ao,modalMap:fc,onClose:ft,onRemove:bt,portalId:"portal-game-modals"}),!i&&n.createElement(Hs,null),n.createElement(is,null),n.createElement("div",{className:Za()({"xwd__layout_container--mobile":i,"xwd__layout--rebusmode":r,"xwd__layout_container--mobile-newsreader":u,"xwd__news-android":d}),ref:c},n.createElement("article",{id:"puzzle","aria-label":"Main Puzzle Layout",className:Za()({"xwd__layout_puzzle--mobile":i,"xwd__layout_puzzle--desktop":!i})},n.createElement("section",{className:Za()({xwd__layout_clueBarAndBoard:!i,"xwd__mobile_layout--board_container":i}),"aria-label":"Game Board with Clue Bar"},!i&&n.createElement(Js,null),n.createElement(Bs,{isMobile:i}),i&&n.createElement("span",{key:"breaker",className:"xwd__layout_breaker","data-testid":"breaker"})),t&&n.createElement(ac,{lists:t})),r&&n.createElement(sc,{offset:m}),i&&n.createElement("div",{className:"xwd__layout_controls--mobile","data-testid":"mobile-controls"},n.createElement(Js,null),n.createElement(Ki,null))),n.createElement(Xs,null))}var hc=r(31189),vc=r(2652),gc=r.n(vc),yc=r(83097),wc=r(45042);const Ec=e=>{let t,{error:r,navigationLinks:a,subscriptionCampaign:o,iconError:l,iconSubscribe:i,liraAsset:s,userType:c,documentTitle:u}=e;const d=(0,yc.T0)(a.login,"&asset=".concat(s));switch(u&&(document.title=u),r.status){case 401:case 403:t=n.createElement("div",{className:"pz-error__message"},i&&n.createElement("i",{className:Za()("pz-error__icon",i)}),n.createElement("h1",null,"Subscribe to play."),n.createElement("p",null,"Get full access to The Crossword, created daily by Times experts, with a New York Times Games subscription."),n.createElement("a",{className:"pz-error__button default",href:a.subscribe[o]},"Subscribe"),n.createElement("a",{className:"pz-error__button sale",href:a.subscribe[o]},(0,wc.ux)(window.location.href)?(0,wc.L2)((null==c?void 0:c.entitlement)||""):"Subscribe"),n.createElement("br",null),null!=c&&c.isLoggedIn?null:n.createElement("p",null,n.createElement("a",{className:"pz-error__link",href:d},"Log in")));break;case 404:t=n.createElement("div",{className:"pz-error__message"},l&&n.createElement("i",{className:Za()("pz-error__icon",l)}),n.createElement("h1",null,"This page no longer exists."),n.createElement("a",{className:"pz-error__button",href:"/crosswords"},"Explore Our Games"));break;default:t=n.createElement("div",{className:"pz-error__message"},l&&n.createElement("i",{className:Za()("pz-error__icon",l)}),n.createElement("h1",null,"Our site is ",n.createElement("br",null),"playing games with us."," "),n.createElement("p",null,"We’re working to solve an issue with our server. Try refreshing the page or check back soon. In the meantime, explore the Mini Crossword and more."),n.createElement("a",{className:"pz-error__button",href:"/crosswords"},"Play Games"))}return n.createElement("div",{className:"pz-error"},t,404===r.status?n.createElement("div",{className:"pz-error-img-1",alt:""}):n.createElement("div",{className:"pz-error-img",alt:""}))};Ec.propTypes={error:gc().shape({status:gc().number,stack:gc().string}).isRequired,navigationLinks:gc().shape({login:gc().string,subscribe:gc().shape({})}),liraAsset:gc().string,subscriptionCampaign:gc().string,iconError:gc().string,iconSubscribe:gc().string,userType:gc().shape({isLoggedIn:gc().bool,entitlement:gc().string}),documentTitle:gc().string},Ec.defaultProps={liraAsset:"puzzle-paywall",subscriptionCampaign:"default"};var _c=Ec;const Oc=(e,t)=>{e&&e.classList.add(t)},Sc=(e,t)=>{e&&e.classList.remove(t)},kc=e=>document.getElementsByClassName(e)[0],Pc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xwd__hide-when-no-data";return(0,n.useEffect)((()=>{const t=kc("pz-game-title-bar"),r=kc("pz-game-toolbar");return Oc(t,e),Oc(r,e),()=>{Sc(t,e),Sc(r,e)}}),[])};function xc(e){let{error:t,userType:r}=e;return Pc(),n.createElement(_c,{error:t,navigationLinks:window.navigationLinks,userType:r})}var jc=r(85171);function Cc(){var e;Pc();const t="mini"===(null===(e=window.gameData)||void 0===e?void 0:e.stream),[r,a]=n.useState(!1),[o,l]=n.useState(10);(0,jc.Z)((()=>a(!0)),300),function(e,t){const r=(0,n.useRef)(e);(0,n.useLayoutEffect)((()=>{r.current=e}),[e]),(0,n.useEffect)((()=>{if(!t&&0!==t)return;const e=setInterval((()=>r.current()),t);return()=>clearInterval(e)}),[t])}((()=>{o<100&&Math.random()<1/6&&l(o+15*Math.random())}),r?30:null);const i=n.createElement("div",{className:"xwd--loading-bar"},n.createElement("div",{className:"xwd--loading-bar__fill",style:{right:"".concat(Math.max(100-o,0),"%")}}));return n.createElement("div",{className:Za()("xwd__loading",{mini:t})},r&&i)}var Tc=()=>{var e;const t=(0,n.useRef)(null),{userType:r,hasLoaded:a,shortzHasLoaded:l}=(0,Qa.aF)(),i=(0,o.v9)(Oe),s=(0,o.v9)(Uo),c=(0,o.v9)(Go),u=(0,o.v9)(_r),d=(0,o.v9)(ro),p=(0,o.v9)(yo),m=(0,o.v9)(ye),f=(0,o.v9)(zt),b=(0,o.v9)(Pe),h=(0,o.v9)(we),v=(0,o.v9)(ae),y=(0,o.v9)(oe),w=(0,o.v9)(De),E=(0,o.v9)(Eo),[_,O]=(0,n.useState)(null),S=(0,o.I0)(),{reportExposure:k}=(0,Ja.Z)(),P="mini"===(null===(e=window.gameData)||void 0===e?void 0:e.stream),x=P?$a.config:Xa.config,{unit:j}=(0,Va.useUnit)(x),C=(0,n.useCallback)((e=>{const{action:t,payload:r}=(e=>{let t,r,{key:n,shiftKey:a}=e;switch(n){case"Escape":t=a?zo:_o;break;case"Insert":t=_o;break;case"Tab":case"Enter":case"NumpadEnter":t=G,r=a?"PreviousClue":"NextClue";break;case" ":t=No;break;case"End":t=G,r="ClueEnd";break;case"Home":t=G,r="ClueStart";break;case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":t=G,r=a?"Shift".concat(n):n;break;case"Backspace":t=Ao;break;case"Delete":t=Lo,r="Cell";break;default:return{}}return{action:t,payload:r}})(e);t&&(S(t(r)),e.preventDefault(),e.stopPropagation())}),[]),T=(0,n.useCallback)((e=>{const{action:t,payload:r,shiftKey:n}=(e=>{const{key:t,which:r,shiftKey:n}=e;return(e=>{let{altKey:t,ctrlKey:r,metaKey:n}=e;return t||r||n})(e)?{}:(e.preventDefault(),{action:xo,payload:Mo(t,r),shiftKey:n})})(e);t&&r&&S(t(r,n))}),[]);return(0,hc.Z)(Jt,j.refetch),(0,n.useEffect)((()=>{k(P?"OMA_ENDSCREENACTIONS_MINI":"OMA_ENDSCREENACTIONS_DAILY")})),(0,n.useEffect)((()=>{a&&l&&f&&m&&(S(Jt(r)),y||S({type:Kt,payload:!0}))}),[a,m,f,m,l]),(0,n.useEffect)((()=>{!1===v&&O({status:403}),h&&O(h)}),[v,h]),(0,n.useEffect)((()=>{a&&m&&(S(((e,t)=>r=>{const n=e?Ut:Gt,a=t.regiId||"anon";return Ur("".concat(a)).then((e=>{const t=Ro(Ro({},n),e?e.settings:{});r({type:Yt,payload:t})})).catch((e=>{sr.error(e),r({type:Yt,payload:n})}))})(Ka.tq,r)),S((e=>t=>{Ur("".concat(e.regiId)).then((e=>{t({type:Ft,payload:e&&e.printPrefs||Ht})})).catch((e=>{sr.error(e),t({type:Ft,payload:Ht})}))})(r)),S(Do(r)))}),[a,m,b]),(0,n.useEffect)((()=>(window.scrollTo(0,0),()=>window.scrollTo(0,0))),[]),(0,n.useEffect)((()=>{(e=>{let{isReady:t,modalIsOpen:r,inRebusMode:n,ref:a}=e;const o=t&&!(r||n);if(a&&(a.className=Za()("xwd__franklin",{xwd__focused:o})),o){const e=window.pageXOffset,t=window.pageYOffset;a&&a.focus(),window.scrollTo(e,t)}})({isReady:s,modalIsOpen:d,inRebusMode:p,ref:t.current})}),[s,u,d,p]),(0,n.useEffect)((()=>{s||d||S(mt(ho.Start))}),[s,d,S]),(0,n.useEffect)((()=>{m&&(document.title=w)}),[m,w]),y?_?n.createElement(xc,{error:_,userType:r}):n.createElement("main",{tabIndex:0,ref:t,onKeyDown:e=>{d||C(e)},onKeyPress:e=>{d||T(e)},onClick:()=>{E&&S(jt(null))}},n.createElement(bc,{clueLists:i,doEscape:c,puzzleEscaped:()=>S({type:g,payload:!1}),inRebusMode:p,isMobile:Ka.tq})):n.createElement(Cc,null)};try{(()=>{const e=/(localforage\/)?([0-9]|anon)+@[0-9]+$/;Lr().keys().then((t=>{t.forEach((t=>{t.match(e)&&Mr(t)}))}))})()}catch(e){}const Dc=document.getElementById("pz-game-root");(()=>{if("ios"===window.newsreaderAppPlatform){var e,t;const r=null===(e=document.querySelector('meta[name="viewport"]'))||void 0===e?void 0:e.getAttribute("content"),n="".concat(r,", viewport-fit=cover, maximum-scale=1, user-scalable=no");null===(t=document.querySelector('meta[name="viewport"]'))||void 0===t||t.setAttribute("content",n)}})();const Nc=function(e){let{filename:t,stream:r}=e;const n=[bn,mn,ct,Dr,Lt,rr,qa],a=(0,p.configureStore)({reducer:ra,middleware:e=>e().concat(n)});return a.dispatch(Da(t,r)),a.dispatch(((e,t)=>{var r;const n=zt(t()),a=!!window.newsreaderAppPlatform,o="mini"===(null===(r=window.gameData)||void 0===r?void 0:r.stream);if(n||a||o)return e(Xn(0));Ra().then((t=>{t.isOffline?e(Xn(0)):e({type:Vn,payload:{meterResponse:t}})})).catch((t=>{console.error(t),e(Xn(t.status))}))})),a}((0,i.kw)());function Lc(){var e,t,r;const a="mini"===(null===(e=window.gameData)||void 0===e?void 0:e.stream)?"gamesMiniCrossword":"gamesDailyCrossword";return n.createElement(l.GamesMessagingContextProvider,{client:a,env:i.OB.name,pageViewID:null===(t=window.nyt_et)||void 0===t||null===(r=t.get_pageview_id)||void 0===r?void 0:r.call(t),performanceMeasureCallback:()=>{},appType:i.OB.samizdat.appType,appVersion:i.OB.samizdat.appVersion,samizdatToken:i.OB.samizdat.token,abra:window.abra,sentry:{captureException:()=>{},withScope:()=>{}}},n.createElement(d.Z,null),n.createElement(Tc,null),n.createElement(c.Z,null))}const Ac=()=>n.createElement(n.Fragment,null,n.createElement(s.Z,null),n.createElement(u.E,null,n.createElement(Rl,null,n.createElement(o.zt,{store:Nc},n.createElement(Lc,null)))));(0,a.s)(Dc).render(n.createElement(Ac,null))},20090:function(e,t,r){r.d(t,{Ds:function(){return n}});const n=(e,t)=>{let r;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];const l=this;clearTimeout(r),r=setTimeout((()=>e.apply(l,a)),t)}}},85203:function(e,t,r){r.d(t,{T4:function(){return i},qA:function(){return s}});var n=r(65489),a=r(53789),o=r(22152),l=r(18489);const i=()=>!window.newsreaderAppPlatform&&!window.isHybridWebView&&(a.tq||(0,l.Z)()&&!a.tq&&!window.isHybridWebView),s=()=>{const e=i();return"1_appDownloadCTA"===n.abra.getVariant(o.wv)&&e}},65489:function(e,t,r){r.d(t,{$A:function(){return i.$A},Be:function(){return E.B},Fg:function(){return p.Fg},Mk:function(){return i.Mk},N1:function(){return y.N},OB:function(){return a.OB},T0:function(){return a.T0},Tv:function(){return p.Tv},Xy:function(){return w.Xy},abra:function(){return m.Fi},ec:function(){return i.ec},hX:function(){return c.hX},iU:function(){return a.iU},j:function(){return c.j},j0:function(){return a.j0},kh:function(){return a.kh},kw:function(){return _},l6:function(){return a.l6},lY:function(){return p.lY},ob:function(){return c.ob},vl:function(){return a.vl},wC:function(){return l.wC},xD:function(){return i.xD}});var n=r(74395),a=r(22042),o=r(96303),l=r(31069),i=r(73649),s=r(67719),c=r(41586),u=r(48198),d=r(33104),p=r(81239),m=r(42714),f=r(6756),b=r(49808),h=r(72811),v=r(73972),g=r(53212),y=r(7644),w=r(88093),E=r(93251);(0,c.U9)(),(0,p.ZP)(u.win.sentryConfig),(0,h.Z)(u.win.datadogRumConfig),(0,n.Z)(),m.Fi.init(),"connections"===u.win.pageName&&"prod"!==u.win.env.name&&(0,g.Z)();try{localStorage.removeItem("pz-device"),localStorage.removeItem("pz-device-check")}catch(e){}if((0,i.t6)(),(0,s.q)(),a.G7)u.win.dataLayer=[];else{const e=(0,o.pg)();e||((0,o.He)(),(0,o.I5)(),(0,f.Z)((0,o.Qx)()),(0,v.YU)(),(0,v.J5)()),u.win.addEventListener("load",(()=>{(0,l.IX)(),(0,d.Z)(),e||(0,o.YY)((0,b.Z)(u.win),m.Fi.getTests()),(0,c.Sv)()}))}const _=()=>u.win.gameData},73649:function(e,t,r){r.d(t,{$A:function(){return p},Mk:function(){return u},ec:function(){return d},ku:function(){return s},t6:function(){return i},xD:function(){return c}});var n=r(37226),a=r(22042),o=r(10431),l=r(41586);const i=()=>{(()=>{const e=(0,o.rI)((0,a.iU)("hybrid-back"));e&&window.isHybridWebView&&window.NativeBridge&&(0,o.Oo)(e,"click",(()=>{var e;"sudoku"!==(0,a.j0)()&&(null===(e=window.NativeBridge)||void 0===e||e.gamesBackToHub())}))})(),(()=>{if(window.isHybridWebView&&window.NativeBridge){const e=document.querySelectorAll(".".concat((0,a.iU)("nav-login"))),t=document.querySelectorAll(".".concat((0,a.iU)("nav-logout"))),r=document.querySelectorAll(".".concat((0,a.iU)("nav-subscribe"))),n=document.querySelectorAll(".".concat((0,a.iU)("nav-account-details"))),l=e=>e.forEach((e=>{(0,o.cn)(e,"hybrid-hidden")})),i=a=>{const o=null==a?void 0:a.isUserLoggedIn,i=null==a?void 0:a.isSubscribed;o?l(e):(l(t),l(n)),i&&l(r)};window.NativeBridge.gamesGetUserDetails().then((e=>{if(!e.success)throw new Error(e.error);i(e.values.gamesGetUserDetails)})).catch((e=>{console.error("Getting user details failed",e),l(t),l(n)})),(0,o.Oo)(window,"gamesUserCredentialChanged",(e=>{var t;i(null==e||null===(t=e.detail)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.gamesAuthenticateUser)}));const s=(e,t)=>{e.forEach((e=>{(0,o.Oo)(e,"click",(e=>{var r;e.preventDefault(),null===(r=window.NativeBridge)||void 0===r||r.gamesAuthenticateUser(t).then((e=>{if(!e.success)throw new Error(e.error);window.dispatchEvent(new CustomEvent("gamesUserCredentialChanged",{detail:e}))}))}))}))};s(r,"subscribe"),s(e,"login")}})(),(()=>{var e;const t=[...document.querySelectorAll(".top-sale-banner")],r=null===(e=document.querySelector(".top-sale-banner__urgency"))||void 0===e?void 0:e.innerHTML,n="".concat(null!=r?r:"","Up to 75% off your first year."),o=(0,a.j0)();t.length>0&&(0,l.j)("impression",{module:{name:"games-sale-banner",region:o,label:n},eventData:{page_type:"games-sale-banner"}}),t.forEach((e=>{e.addEventListener("click",(()=>{(0,l.j)("moduleInteraction",{module:{region:"",label:n,element:{name:o,label:"games-sale-banner"}},eventData:{pageType:"games-sale-banner",type:"tap"}})}),!0)}))})(),setTimeout((()=>{[...document.querySelectorAll(".js-hub-tracker")].forEach((e=>{const t=e.dataset.trackHub,r=e.dataset.trackHubContext||null;e.addEventListener("click",(()=>{(0,n.d)(t,r)}),!0)}))}),0)},s=e=>{let t=!1,r=-1;const n=(0,o.rI)((0,a.iU)("nav-burger")),i=(0,o.rI)((0,a.iU)("nav-drawer"));if(!n||!i)return;const s=e?[...i.querySelectorAll(".customNavLink")]:[...i.querySelectorAll(".pz-nav-drawer__link"),...i.querySelectorAll(".pz-nav__button")];function c(){t=!0,n&&i&&((0,o.cn)(i,"open"),(0,o.cn)(n,"active"),(0,l.ob)({name:(0,a.j0)(),label:"click-nav",context:null}),(0,o.P$)(n,"aria-expanded",t.toString()),(0,o.P$)(i,"aria-hidden",(!t).toString()))}function u(){t=!1,n&&i&&((0,o.IV)(i,"open"),(0,o.cn)(i,"closing"),setTimeout((()=>{(0,o.IV)(i,"closing")}),500),(0,o.IV)(n,"active"),(0,o.P$)(n,"aria-expanded",t.toString()),(0,o.P$)(i,"aria-hidden",(!t).toString()))}(0,o.Oo)(n,"click",(()=>{t?u():c(),n.blur()})),(0,o.Oo)(n,"keydown",(e=>{const{key:n,keyCode:a}=e;if("Escape"!==n&&"Esc"!==n){if("Enter"!==n&&"Space"!==n&&32!==a)return"ArrowDown"===n?(e.preventDefault(),c(),r=0,void s[r].focus()):"ArrowUp"===n?(e.preventDefault(),c(),r=s.length-1,void s[r].focus()):void 0;t?u():(c(),r=0,s[r].focus())}else u()})),(0,o.Oo)(i,"keydown",(e=>{const{key:t}=e;"Escape"!==t&&"Esc"!==t||(u(),n.focus())})),(0,o.rI)((0,a.iU)("logo-nav")).addEventListener("click",(()=>{var e;const t={eventData:{pagetype:"game",trigger:"module",type:"click"},module:{name:"click",context:"",element:{name:null!==(e=window)&&void 0!==e&&null!==(e=e.location)&&void 0!==e&&e.pathname.startsWith("/puzzles/leaderboards")?"your-leaderboard":(0,a.j0)(),label:"games-logo"}}};(0,l.j)("moduleInteraction",t)}));const d=document.querySelector("#js-nav-actions"),p=null==d?void 0:d.querySelectorAll("a.js-nav-subscribe")[0],m=null==d?void 0:d.querySelectorAll("a.js-nav-login")[0];null==p||p.addEventListener("click",(()=>{const e=(0,a.j0)();(0,l.j)("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"ob_click"},module:{element:{name:e,label:"subscribe-header"}}})})),null==m||m.addEventListener("click",(()=>{const e=(0,a.j0)();(0,l.j)("moduleInteraction",{eventData:{pagetype:"game",trigger:"module",type:"ob_click"},module:{element:{name:e,label:"log-in-header"}}})}))},c=(0,a.iU)("global-nav"),u=(0,a.iU)("mobile-toolbar"),d="show-mobile-toolbar",p=(document.querySelector(".pz-header"),(()=>{const e=(0,o.rI)(c),t=(0,o.rI)(u);let r=!1;return{create(e){(0,o.y5)(t,(e=>e.map((e=>e instanceof HTMLElement?e:(e=>{let t;const r={class:"pz-mobile-nav__toolbar-item"};switch("text"===e.type&&e.id&&(r.id=e.id),e.type){case"button":t="button",r.onClick=e.action;break;case"navigation":t="a",r.href=e.url,r.target=window.isHybridWebView?"_self":"_blank",r.rel="noreferrer",e.action&&(r.onClick=e.action);break;default:t="span",r.onClick=e.action,e.id&&(r.id=e.id)}const n=(0,o.dS)(t,r,e.value);if(e.icon){const t=(0,o.dS)("i",{class:"pz-toolbar-icon ".concat(e.icon)});(0,o.jG)(n,t)}return n})(e))))(e))},activate(){r||(r=!0,(0,o.cn)(e,d))},deactivate(){r&&(r=!1,(0,o.IV)(e,d))}}})())},60294:function(e,t,r){r.d(t,{aF:function(){return a.Z},ns:function(){return l}});var n=r(89526),a=(r(73961),r(65489),r(43373),r(34797),r(29954),r(89385),r(46147),r(71687));function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var l=e=>t=>{const r=(0,a.Z)();return n.createElement(e,o({user:r},t))}}},l={};function i(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={id:e,loaded:!1,exports:{}};return o[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=o,e=[],i.O=function(t,r,n,a){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var l=!0,s=0;s<r.length;s++)(!1&a||o>=a)&&Object.keys(i.O).every((function(e){return i.O[e](r[s])}))?r.splice(s--,1):(l=!1,a<o&&(o=a));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);i.r(a);var o={};t=t||[null,r({}),r([]),r(r)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=r(l))Object.getOwnPropertyNames(l).forEach((function(t){o[t]=function(){return e[t]}}));return o.default=function(){return e},i.d(a,o),a},i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,r){return i.f[r](e,t),t}),[]))},i.u=function(e){return e+".76b133e674c74fbc5e3b.js"},i.miniCssF=function(e){},i.miniCssF=function(e){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},a="@xwords/phoenix:",i.l=function(e,t,r,o){if(n[e])n[e].push(t);else{var l,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+r){l=d;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",a+r),l.src=e),n[e]=[t];var p=function(t,r){l.onerror=l.onload=null,clearTimeout(m);var a=n[e];if(delete n[e],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&!e;)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e}(),function(){var e={630:0,5854:0,196:0};i.f.j=function(t,r){var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else if(/^(196|5854)$/.test(t))e[t]=0;else{var a=new Promise((function(r,a){n=e[t]=[r,a]}));r.push(n[2]=a);var o=i.p+i.u(t),l=new Error;i.l(o,(function(r){if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}}),"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,o=r[0],l=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(s)var u=s(i)}for(t&&t(r);c<o.length;c++)a=o[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},r=self.webpackChunk_xwords_phoenix=self.webpackChunk_xwords_phoenix||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var s=i.O(void 0,[6418,5854,3438,5202,7670,3842,4545,5094,8806,2521,7281,9173,9158,1167,3603,5904,4765,5427,196,4210,1126,7071,8577,2820,3771,9096,4783,4375],(function(){return i(43092)}));s=i.O(s)}();
//# sourceMappingURL=crossword.181886b8c980aa50fc3b.js.map